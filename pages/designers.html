<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë””ìì´ë„ˆ ê´€ë¦¬ - GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="stylesheet" href="../css/designers.css">
        <!-- ğŸ”¥ Firebase CDN ì¶”ê°€ -->
    <script src="https://www.gstatic.com/firebasejs/11.9.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.9.0/firebase-firestore-compat.js"></script>
</head>
</head>
<body>
 <!-- Header -->
<div class="header">
    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
</div>
    <div class="container">
        <!-- ë””ìì´ë„ˆ ê´€ë¦¬ í˜ì´ì§€ -->
        <div id="designersPage">
            <div class="mb-6">
                <h2 class="text-2xl font-bold mb-4">ğŸ‘¥ ë””ìì´ë„ˆ ê´€ë¦¬</h2>
                
                <!-- í•„í„° ì»¨íŠ¸ë¡¤ -->
                <div class="filter-controls">
                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <label class="font-medium">ğŸ“… í™œë™ ê¸°ê°„</label>
                            <select id="designersPeriod" onchange="loadDesigners()">
                                <option value="week">ì´ë²ˆ ì£¼</option>
                                <option value="month" selected>ì´ë²ˆ ë‹¬</option>
                                <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                <option value="all">ì „ì²´</option>
                                <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                            </select>
                        </div>
                        <div id="branchFilterContainer">
                            <label class="font-medium">ğŸ¢ ì§€ì  í•„í„°</label>
                            <select id="designerBranchFilter" onchange="loadDesigners()">
                                <option value="">ì „ì²´ ì§€ì </option>
                            </select>
                        </div>
                        <div id="designersCustomRange" class="hidden grid grid-cols-2 gap-4" style="grid-column: span 1;">
                            <div>
                                <label class="font-medium">ì‹œì‘ì¼</label>
                                <input type="date" id="designersStartDate" onchange="loadDesigners()">
                            </div>
                            <div>
                                <label class="font-medium">ì¢…ë£Œì¼</label>
                                <input type="date" id="designersEndDate" onchange="loadDesigners()">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="text-xl font-bold">ë“±ë¡ëœ ë””ìì´ë„ˆ</h3>
                    <button onclick="showAddDesigner()" class="btn">
                        â• ìƒˆ ë””ìì´ë„ˆ ì¶”ê°€
                    </button>
                </div>
                
                <!-- ë””ìì´ë„ˆ í†µê³„ ìš”ì•½ -->
                <div class="designer-stats-summary">
                    <div class="stats-item">
                        <span class="stats-label">ì „ì²´ ë””ìì´ë„ˆ</span>
                        <span class="stats-value" id="totalDesigners">0</span>
                    </div>
                    <div class="stats-item">
                        <span class="stats-label">í™œì„± ë””ìì´ë„ˆ</span>
                        <span class="stats-value" id="activeDesigners">0</span>
                    </div>
                    <div class="stats-item">
                        <span class="stats-label">í‰ê·  í™œë™ëŸ‰</span>
                        <span class="stats-value" id="avgActivity">0</span>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="table">
                        <thead>
                            <tr>
<th>ì´ë¦„</th>
<th>ì§€ì </th>
<th>ì§ê¸‰</th>
<th>ì „í™”ë²ˆí˜¸</th>
<th>ì¸ìŠ¤íƒ€ê·¸ë¨</th>
<th>ë“±ë¡ì¼</th>
                                <th class="sortable" onclick="sortDesigners('reviews')">
                                    â­ ë¦¬ë·° <span class="sort-icon">ğŸ”€</span>
                                </th>
                                <th class="sortable" onclick="sortDesigners('posts')">
                                    ğŸ“ í¬ìŠ¤íŒ… <span class="sort-icon">ğŸ”€</span>
                                </th>
                                <th class="sortable" onclick="sortDesigners('experience')">
                                    ğŸ¯ ì²´í—˜ë‹¨ <span class="sort-icon">ğŸ”€</span>
                                </th>
                                <th class="sortable" onclick="sortDesigners('reels')">
                                    ğŸ¬ ë¦´ìŠ¤ <span class="sort-icon">ğŸ”€</span>
                                </th>
                                <th class="sortable" onclick="sortDesigners('photos')">
                                    ğŸ“· ì‚¬ì§„ <span class="sort-icon">ğŸ”€</span>
                                </th>
                                <th class="sortable" onclick="sortDesigners('total')">
                                    ì´ í™œë™ëŸ‰ <span class="sort-icon">ğŸ”€</span>
                                </th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="designersList">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                        </tbody>
                    </table>
                </div>

                <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
                <div class="pagination" id="designersPagination">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ëª¨ë‹¬ë“¤ -->
    <!-- ë””ìì´ë„ˆ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="addDesignerModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="text-lg font-bold">ğŸ‘¤ ìƒˆ ë””ìì´ë„ˆ ì¶”ê°€</h3>
                <button onclick="hideAddDesigner()" class="modal-close">âŒ</button>
            </div>
            <form id="addDesignerForm">
                <div class="form-group">
                    <label>ğŸ‘¤ ì´ë¦„ <span class="required">*</span></label>
                    <input type="text" id="designerName" required placeholder="ë””ìì´ë„ˆ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label>ğŸ¢ ì§€ì  <span class="required">*</span></label>
                    <select id="designerBranch" required>
                        <option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ğŸ·ï¸ ì§ê¸‰ <span class="required">*</span></label>
                    <select id="designerPosition" required>
                        <option value="">ì§ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ì¸í„´">ì¸í„´</option>
                        <option value="ë””ìì´ë„ˆ">ë””ìì´ë„ˆ</option>
                        <option value="íŒ€ì¥">íŒ€ì¥</option>
                        <option value="ì‹¤ì¥">ì‹¤ì¥</option>
                        <option value="ë¶€ì›ì¥">ë¶€ì›ì¥</option>
                        <option value="ì›ì¥">ì›ì¥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ğŸ“ ì „í™”ë²ˆí˜¸ <span class="required">*</span></label>
                    <input type="tel" id="designerPhone" required placeholder="010-0000-0000">
                </div>
                <div class="form-group">
                    <label>ğŸ“§ ì´ë©”ì¼</label>
                    <input type="email" id="designerEmail" placeholder="designer@gohair.com">
                </div>
                <div class="form-group">
    <label>ğŸ“· ì¸ìŠ¤íƒ€ê·¸ë¨</label>
    <input type="text" id="designerInstagram" placeholder="username ë˜ëŠ” ì „ì²´ URL">
    <small style="color: #6b7280; font-size: 0.8rem;">ì˜ˆ: username ë˜ëŠ” https://instagram.com/username</small>
</div>
                <div class="modal-actions">
                    <button type="button" onclick="hideAddDesigner()" class="btn btn-secondary">âŒ ì·¨ì†Œ</button>
                    <button type="submit" class="btn">â• ì¶”ê°€</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ë””ìì´ë„ˆ í¸ì§‘ ëª¨ë‹¬ -->
    <div id="editDesignerModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="text-lg font-bold">âœï¸ ë””ìì´ë„ˆ ì •ë³´ ìˆ˜ì •</h3>
                <button onclick="hideEditDesigner()" class="modal-close">âŒ</button>
            </div>
            <form id="editDesignerForm">
                <input type="hidden" id="editDesignerId">
                <div class="form-group">
                    <label>ğŸ‘¤ ì´ë¦„ <span class="required">*</span></label>
                    <input type="text" id="editDesignerName" required>
                </div>
                <div class="form-group">
                    <label>ğŸ¢ ì§€ì  <span class="required">*</span></label>
                    <select id="editDesignerBranch" required>
                        <option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ğŸ·ï¸ ì§ê¸‰ <span class="required">*</span></label>
                    <select id="editDesignerPosition" required>
                        <option value="">ì§ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ì¸í„´">ì¸í„´</option>
                        <option value="ë””ìì´ë„ˆ">ë””ìì´ë„ˆ</option>
                        <option value="íŒ€ì¥">íŒ€ì¥</option>
                        <option value="ì‹¤ì¥">ì‹¤ì¥</option>
                        <option value="ë¶€ì›ì¥">ë¶€ì›ì¥</option>
                        <option value="ì›ì¥">ì›ì¥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ğŸ“ ì „í™”ë²ˆí˜¸ <span class="required">*</span></label>
                    <input type="tel" id="editDesignerPhone" required>
                </div>
                <div class="form-group">
                    <label>ğŸ“§ ì´ë©”ì¼</label>
                    <input type="email" id="editDesignerEmail">
                </div>
                <div class="form-group">
    <label>ğŸ“· ì¸ìŠ¤íƒ€ê·¸ë¨</label>
    <input type="text" id="editDesignerInstagram" placeholder="username ë˜ëŠ” ì „ì²´ URL">
    <small style="color: #6b7280; font-size: 0.8rem;">ì˜ˆ: username ë˜ëŠ” https://instagram.com/username</small>
</div>
                <div class="form-group">
                    <label>ğŸ“‹ ë©”ëª¨</label>
                    <textarea id="editDesignerNotes" rows="3" placeholder="ë””ìì´ë„ˆì— ëŒ€í•œ ë©”ëª¨ë‚˜ íŠ¹ì´ì‚¬í•­"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" onclick="hideEditDesigner()" class="btn btn-secondary">âŒ ì·¨ì†Œ</button>
                    <button type="submit" class="btn">ğŸ’¾ ì €ì¥</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ë””ìì´ë„ˆ ìƒì„¸ ë³´ê¸° ëª¨ë‹¬ -->
    <div id="viewDesignerModal" class="modal hidden">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 class="text-lg font-bold">ğŸ‘¤ ë””ìì´ë„ˆ ìƒì„¸ ì •ë³´</h3>
                <button onclick="hideViewDesigner()" class="modal-close">âŒ</button>
            </div>
            <div id="designerDetailContent">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="../js/config/firebase.js"></script>
    <script src="../js/utils/data-manager.js"></script>
    <script src="../js/utils/auth.js"></script>
    <script src="../js/utils/ui-utils.js"></script>
    <script src="../js/utils/navigation.js"></script>  <!-- ì´ ë¼ì¸ ì¶”ê°€ -->
    <script src="../js/pages/designers.js"></script>


    <!-- í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ í•¨ìˆ˜ -->
    <script>
// ë‹¨ì¼ ì´ˆê¸°í™” í•¨ìˆ˜
function initializeDesignersPage() {
    console.log('ğŸ‘¥ Designers í˜ì´ì§€ ì´ˆê¸°í™” ì‹œì‘');
    
    // ë„¤ë¹„ê²Œì´ì…˜ í™•ì¸
    if (!window.navigationManager) {
        console.warn('âš ï¸ ë„¤ë¹„ê²Œì´ì…˜ì´ ì•„ì§ ë¡œë“œë˜ì§€ ì•ŠìŒ');
        return;
    }
    
    try {
        // í•„í„° ë§¤ë‹ˆì € ì´ˆê¸°í™”
        if (typeof initializePageFilters === 'function') {
            initializePageFilters();
        }
        
        // í˜ì´ì§€ ë§¤ë‹ˆì € ì´ˆê¸°í™”
        if (typeof DesignersManager !== 'undefined') {
            window.designersManager = new DesignersManager();
            window.designersManager.initialize();
        }
        
        console.log('âœ… Designers í˜ì´ì§€ ì´ˆê¸°í™” ì™„ë£Œ');
    } catch (error) {
        console.error('âŒ í˜ì´ì§€ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
    }
}

// DOM ë¡œë“œ ì™„ë£Œ í›„ ì´ˆê¸°í™”
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
        // ë„¤ë¹„ê²Œì´ì…˜ ë¡œë“œë¥¼ ê¸°ë‹¤ë¦° í›„ í˜ì´ì§€ ì´ˆê¸°í™”
        setTimeout(initializeDesignersPage, 500);
    });
} else {
    setTimeout(initializeDesignersPage, 100);
}
    </script>
</body>
</html>
