<!DOCTYPE html>
<!-- saved from url=(0035)https://nazgvpta.gensparkspace.com/ -->
<html lang="ko"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <link href="./index_files/css2" rel="stylesheet">
    <script src="./index_files/chart.js.ë‹¤ìš´ë¡œë“œ"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: #fafafa;
            color: #374151;
            line-height: 1.6;
            letter-spacing: -0.025em;
        }

        .header {
            background: #ffffff;
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 1.5rem;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .header-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .nav-btn {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            color: #64748b;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .nav-btn:hover, .nav-btn.active {
            background: #6366f1;
            border-color: #6366f1;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        .card {
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #374151;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.875rem;
            transition: border-color 0.2s;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .btn {
            background: #6366f1;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .btn:hover {
            background: #5b5bd6;
        }

        .btn-secondary {
            background: #6b7280;
        }

        .btn-secondary:hover {
            background: #5b6370;
        }

        .btn-green {
            background: #10b981;
        }

        .btn-green:hover {
            background: #059669;
        }

        .btn-red {
            background: #ef4444;
        }

        .btn-red:hover {
            background: #dc2626;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #6b7280;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .table th, .table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.875rem;
            white-space: nowrap;
        }

        .table th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
        }

        .table tr:hover {
            background: #f8fafc;
        }

        .chart-container {
            height: 300px;
            position: relative;
            margin: 1rem 0;
        }

        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fafafa;
        }

        .login-form {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
        }

        .logo {
            text-align: center;
            margin-bottom: 2rem;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #6366f1;
            margin-bottom: 0.5rem;
        }

        .logo p {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .emoji-icon {
            margin-right: 0.5rem;
            font-size: 1rem;
        }

        .hidden {
            display: none;
        }

        .grid {
            display: grid;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, 1fr);
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, 1fr);
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        .grid-cols-4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .gap-4 {
            gap: 1rem;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mb-6 {
            margin-bottom: 1.5rem;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .font-bold {
            font-weight: 700;
        }

        .font-medium {
            font-weight: 500;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-xs {
            font-size: 0.75rem;
        }

        .text-lg {
            font-size: 1.125rem;
        }

        .text-xl {
            font-size: 1.25rem;
        }

        .text-2xl {
            font-size: 1.5rem;
        }

        .overflow-x-auto {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .filter-controls {
            background: #f8fafc;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-blue {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-green {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-gray {
            background: #f3f4f6;
            color: #374151;
        }

        .connection-status {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1000;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            transition: all 0.2s;
        }

        .connection-status.connected {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        .connection-status.disconnected {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .header-content {
                padding: 0.75rem 1rem;
            }
            
            .header h1 {
                font-size: 1rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                line-height: 1.2;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
            
            .header-top {
                flex-direction: column;
                align-items: stretch;
                gap: 0.75rem;
                margin-bottom: 0.75rem;
            }
            
            .header-actions {
                justify-content: center;
                gap: 0.25rem;
                flex-wrap: wrap;
            }
            
            .header-actions .btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.75rem;
                flex: 1;
                min-width: 0;
                max-width: calc(50% - 0.125rem);
                text-align: center;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            
            .header-actions #currentUser {
                order: -1;
                width: 100%;
                text-align: center;
                padding: 0.25rem;
                font-size: 0.75rem;
                margin-bottom: 0.5rem;
                background: #f8fafc;
                border-radius: 4px;
                border: 1px solid #e5e7eb;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 0.75rem;
            }
            
            .nav {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 0.375rem;
            }
            
            .nav-btn {
                padding: 0.75rem 0.5rem;
                font-size: 0.75rem;
                text-align: center;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                line-height: 1.2;
            }
            
            .table {
                font-size: 0.75rem;
                min-width: 700px;
            }
            
            .table th, .table td {
                padding: 0.5rem 0.25rem;
                font-size: 0.75rem;
                white-space: nowrap;
                text-overflow: ellipsis;
                max-width: 100px;
            }
            
            .grid-cols-2, .grid-cols-3, .grid-cols-4 {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .card {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .form-group input, .form-group select {
                padding: 0.75rem;
                font-size: 16px;
            }
            
            .btn {
                padding: 0.75rem 1rem;
                white-space: nowrap;
            }
            
            .modal-content {
                width: 95%;
                padding: 1rem;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .filter-controls {
                padding: 0.75rem;
            }
            
            .filter-controls .grid {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            
            .badge {
                font-size: 0.625rem;
                padding: 0.125rem 0.5rem;
            }
            
            .stat-number {
                font-size: 1.5rem;
            }
            
            .stat-label {
                font-size: 0.75rem;
            }
            
            .text-xl {
                font-size: 1.125rem;
            }
            
            .text-2xl {
                font-size: 1.25rem;
            }
            
            .login-form {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            .connection-status {
                position: fixed;
                top: 0.5rem;
                left: 0.5rem;
                font-size: 0.625rem;
                padding: 0.25rem 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 0.875rem;
            }
            
            .header-actions .btn {
                font-size: 0.625rem;
                padding: 0.375rem 0.5rem;
            }
            
            .nav {
                grid-template-columns: 1fr;
            }
            
            .nav-btn {
                font-size: 0.7rem;
                padding: 0.625rem 0.5rem;
            }
        }
    </style>
<style>
    .genspark-notice-dialog {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 10001;
      align-items: center;
      justify-content: center;
    }

    .genspark-notice-content {
      background-color: white;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
      box-sizing: border-box;
      padding: 10px 30px 30px 30px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      font-size: 16px;
    }

    .genspark-notice-title {
      color: #000;
      font-family: Arial;
      font-size: 20px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%; 
    }

    .genspark-notice-list {
      margin: 24px 0;
      
      color: #606366;
      font-family: Arial;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 150%;
      padding-left: 12px;
    }

    .genspark-notice-list li {
      margin-bottom: 12px;
      list-style-type: disc;
    }

    .genspark-notice-list li a {
      color: #606366;
      text-decoration: underline;
    }

    .genspark-notice-checkbox {
      display: flex;
      align-items: center;
      margin-top: 20px;
      gap: 10px;

      color: #232425;

      font-family: Arial;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: normal;
    }

    .genspark-notice-actions {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
      
    .genspark-notice-ok {
      color: #232425;

      text-align: center;
      font-family: Arial;
      font-size: 16px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%; 

      cursor: pointer;
      display: flex;
      height: 40px;
      padding: 6px 14px;
      justify-content: center;
      align-items: center;
      gap: 10px;
      align-self: stretch;
      border-radius: 8px;
      border: 1px solid #000;
      box-sizing: border-box;
      width: 100%;
    }
  </style></head>
<body>
    <!-- ì—°ê²° ìƒíƒœ í‘œì‹œ -->
    <div id="connectionStatus" class="connection-status connected">ğŸŸ¢ Firebase ì—°ê²°ë¨</div>

    <!-- ë¡œê·¸ì¸ í˜ì´ì§€ -->
    <div id="loginPage">
        <div class="login-container">
            <div class="login-form">
                <div class="logo">
                    <h1>GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
                    <p>SNS ë¦¬ë” ë¡œê·¸ì¸</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label>ğŸ“§ ì´ë©”ì¼</label>
                        <input type="email" id="email" required="">
                    </div>
                    <div class="form-group">
                        <label>ğŸ”’ ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="password" required="">
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">ğŸ”‘ ë¡œê·¸ì¸</button>
                </form>
                <div class="text-center" style="margin-top: 1rem;">
                    <a href="https://nazgvpta.gensparkspace.com/#" onclick="showSignup()" style="color: #6366f1; text-decoration: none; font-size: 0.875rem;">SNS ë¦¬ë”ë¡œ ê°€ì…í•˜ê¸°</a>
                </div>
            </div>
        </div>
    </div>

    <!-- ê°€ì… í˜ì´ì§€ -->
    <div id="signupPage" class="hidden">
        <div class="login-container">
            <div class="login-form">
                <div class="logo">
                    <h1>SNS ë¦¬ë” ê°€ì…</h1>
                    <p>ìƒˆë¡œìš´ SNS ë¦¬ë” ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤</p>
                </div>
                <form id="signupForm">
                    <div class="form-group">
                        <label>ğŸ‘¤ ì´ë¦„</label>
                        <input type="text" id="signupName" required="">
                    </div>
                    <div class="form-group">
                        <label>ğŸ“§ ì´ë©”ì¼</label>
                        <input type="email" id="signupEmail" required="">
                    </div>
                    <div class="form-group">
                        <label>ğŸ”’ ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="signupPassword" required="">
                    </div>
                    <div class="form-group">
                        <label>ğŸ¢ ì§€ì  ì„ íƒ</label>
                        <select id="signupBranch" required="">
                            <option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì†¡ë„1ì§€ì ">ì†¡ë„1ì§€ì </option>
                            <option value="ê²€ë‹¨í…Œë¼ìŠ¤ì ">ê²€ë‹¨í…Œë¼ìŠ¤ì </option>
                            <option value="ë¶€í‰ì ">ë¶€í‰ì </option>
                        </select>
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">â• ê°€ì…í•˜ê¸°</button>
                </form>
                <div class="text-center" style="margin-top: 1rem;">
                    <a href="https://nazgvpta.gensparkspace.com/#" onclick="showLogin()" style="color: #6366f1; text-decoration: none; font-size: 0.875rem;">ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸í•˜ê¸°</a>
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì‹œìŠ¤í…œ -->
    <div id="mainSystem" class="hidden">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-content">
                <div class="header-top">
                    <h1>GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
                    <div class="header-actions">
                        <span id="currentUser" style="color: #6b7280; font-size: 0.875rem; padding: 0.5rem;"></span>
                        <button onclick="exportData()" class="btn btn-green">
                            ğŸ“¥ ë‚´ë³´ë‚´ê¸°
                        </button>
                        <button onclick="importData()" class="btn">
                            ğŸ“¤ ê°€ì ¸ì˜¤ê¸°
                        </button>
                        <button onclick="logout()" class="btn btn-red">
                            ğŸšª ë¡œê·¸ì•„ì›ƒ
                        </button>
                    </div>
                </div>
                <nav class="nav">
                    <button onclick="showPage(&#39;dashboard&#39;)" class="nav-btn active">
                        ğŸ  ëŒ€ì‹œë³´ë“œ
                    </button>
                    <button onclick="showPage(&#39;designers&#39;)" class="nav-btn">
                        ğŸ‘¥ ë””ìì´ë„ˆ ê´€ë¦¬
                    </button>
                    <button onclick="showPage(&#39;branches&#39;)" class="nav-btn admin-only hidden">
                        ğŸ¢ ì§€ì  ê´€ë¦¬
                    </button>
                    <button onclick="showPage(&#39;history&#39;)" class="nav-btn">
                        ğŸ“ˆ ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬
                    </button>
                    <button onclick="showPage(&#39;checklist&#39;)" class="nav-btn">
                        ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥
                    </button>
                    <button onclick="showPage(&#39;statistics&#39;)" class="nav-btn">
                        ğŸ“Š í†µê³„ ë¶„ì„
                    </button>
                    <button onclick="showPage(&#39;comparison&#39;)" class="nav-btn">
                        âš–ï¸ ì§€ì  ë¹„êµ
                    </button>
                </nav>
            </div>
        </header>

        <main class="container">
            <!-- ëŒ€ì‹œë³´ë“œ -->
            <div id="dashboardPage">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">ğŸ  ëŒ€ì‹œë³´ë“œ</h2>
                    
                    <!-- ê¸°ê°„ í•„í„° ì¶”ê°€ -->
                    <div class="filter-controls">
                        <div class="grid grid-cols-4 gap-4">
                            <div>
                                <label class="font-medium">ğŸ“… ê¸°ê°„ ì„ íƒ</label>
                                <select id="dashboardPeriod" onchange="loadDashboard()">
                                    <option value="today">ì˜¤ëŠ˜</option>
                                    <option value="week">ì´ë²ˆ ì£¼</option>
                                    <option value="month" selected="">ì´ë²ˆ ë‹¬</option>
                                    <option value="all">ì „ì²´</option>
                                    <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                                </select>
                            </div>
                            <div id="dashboardCustomRange" class="hidden grid grid-cols-2 gap-4" style="grid-column: span 2;">
                                <div>
                                    <label class="font-medium">ì‹œì‘ì¼</label>
                                    <input type="date" id="dashboardStartDate" onchange="loadDashboard()">
                                </div>
                                <div>
                                    <label class="font-medium">ì¢…ë£Œì¼</label>
                                    <input type="date" id="dashboardEndDate" onchange="loadDashboard()">
                                </div>
                            </div>
                            <div style="display: flex; align-items: end;">
                                <button onclick="loadDashboard()" class="btn" style="height: fit-content;">
                                    ğŸ”„ ìƒˆë¡œê³ ì¹¨
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalReviews">0</div>
                        <div class="stat-label">â­ ë„¤ì´ë²„ ë¦¬ë·°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalPosts">0</div>
                        <div class="stat-label">ğŸ“ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalExperience">0</div>
                        <div class="stat-label">ğŸ¯ ì²´í—˜ë‹¨ ìš´ì˜</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalReels">0</div>
                        <div class="stat-label">ğŸ¬ ì¸ìŠ¤íƒ€ ë¦´ìŠ¤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalPhotos">0</div>
                        <div class="stat-label">ğŸ“· ì¸ìŠ¤íƒ€ ì‚¬ì§„</div>
                    </div>
                </div>

                <div class="card">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="text-xl font-bold">ì§€ì ë³„ ì„±ê³¼ ìˆœìœ„</h3>
                        <button onclick="exportRankings()" class="btn btn-green">ğŸ“¥ ìˆœìœ„ ë‚´ë³´ë‚´ê¸°</button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ìˆœìœ„</th>
                                    <th>ì§€ì </th>
                                    <th style="cursor: pointer;" onclick="sortRankings(&#39;reviews&#39;)">
                                        â­ ë¦¬ë·° ğŸ”€
                                    </th>
                                    <th style="cursor: pointer;" onclick="sortRankings(&#39;posts&#39;)">
                                        ğŸ“ í¬ìŠ¤íŒ… ğŸ”€
                                    </th>
                                    <th style="cursor: pointer;" onclick="sortRankings(&#39;experience&#39;)">
                                        ğŸ¯ ì²´í—˜ë‹¨ ğŸ”€
                                    </th>
                                    <th style="cursor: pointer;" onclick="sortRankings(&#39;reels&#39;)">
                                        ğŸ¬ ë¦´ìŠ¤ ğŸ”€
                                    </th>
                                    <th style="cursor: pointer;" onclick="sortRankings(&#39;photos&#39;)">
                                        ğŸ“· ì‚¬ì§„ ğŸ”€
                                    </th>
                                    <th style="cursor: pointer;" onclick="sortRankings(&#39;total&#39;)">
                                        ì´í•© ğŸ”€
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="branchRankings">
                <tr style="background-color: #f8fafc;">
                    <td class="font-bold">1</td>
                    <td class="font-medium">ê²€ë‹¨í…Œë¼ìŠ¤ì </td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td class="font-bold" style="color: #6366f1;">0</td>
                </tr>
            
                <tr style="">
                    <td class="font-bold">2</td>
                    <td class="font-medium">ì†¡ë„1ì§€ì </td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td class="font-bold" style="color: #6366f1;">0</td>
                </tr>
            
                <tr style="background-color: #f8fafc;">
                    <td class="font-bold">3</td>
                    <td class="font-medium">ë¶€í‰ì </td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td class="font-bold" style="color: #6366f1;">0</td>
                </tr>
            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ë””ìì´ë„ˆ ê´€ë¦¬ -->
            <div id="designersPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">ğŸ‘¥ ë””ìì´ë„ˆ ê´€ë¦¬</h2>
                    
                    <!-- ê¸°ê°„ ë° í•„í„° ì¶”ê°€ -->
                    <div class="filter-controls">
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label class="font-medium">ğŸ“… í™œë™ ê¸°ê°„</label>
                                <select id="designersPeriod" onchange="loadDesigners()">
                                    <option value="week">ì´ë²ˆ ì£¼</option>
                                    <option value="month" selected="">ì´ë²ˆ ë‹¬</option>
                                    <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                    <option value="all">ì „ì²´</option>
                                    <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                                </select>
                            </div>
                            <div class="admin-only hidden">
                                <label class="font-medium">ğŸ¢ ì§€ì  í•„í„°</label>
                                <select id="designerBranchFilter" onchange="loadDesigners()">
                                    <option value="">ì „ì²´ ì§€ì </option>
                                </select>
                            </div>
                            <div id="designersCustomRange" class="hidden grid grid-cols-2 gap-4" style="grid-column: span 2;">
                                <div>
                                    <label class="font-medium">ì‹œì‘ì¼</label>
                                    <input type="date" id="designersStartDate" onchange="loadDesigners()">
                                </div>
                                <div>
                                    <label class="font-medium">ì¢…ë£Œì¼</label>
                                    <input type="date" id="designersEndDate" onchange="loadDesigners()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="text-xl font-bold">ë“±ë¡ëœ ë””ìì´ë„ˆ</h3>
                        <button onclick="showAddDesigner()" class="btn">
                            â• ìƒˆ ë””ìì´ë„ˆ ì¶”ê°€
                        </button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ì´ë¦„</th>
                                    <th>ì§€ì </th>
                                    <th>ì§ê¸‰</th>
                                    <th>ì „í™”ë²ˆí˜¸</th>
                                    <th>ë“±ë¡ì¼</th>
                                    <th>â­ ë¦¬ë·°</th>
                                    <th>ğŸ“ í¬ìŠ¤íŒ…</th>
                                    <th>ğŸ¯ ì²´í—˜ë‹¨</th>
                                    <th>ğŸ¬ ë¦´ìŠ¤</th>
                                    <th>ğŸ“· ì‚¬ì§„</th>
                                    <th>ì´ í™œë™ëŸ‰</th>
                                    <th>ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="designersList">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ë””ìì´ë„ˆ ì¶”ê°€ ëª¨ë‹¬ -->
                <div id="addDesignerModal" class="modal hidden">
                    <div class="modal-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="text-lg font-bold">ğŸ‘¤ ìƒˆ ë””ìì´ë„ˆ ì¶”ê°€</h3>
                            <button onclick="hideAddDesigner()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">âŒ</button>
                        </div>
                        <form id="addDesignerForm">
                            <div class="form-group">
                                <label>ğŸ‘¤ ì´ë¦„</label>
                                <input type="text" id="designerName" required="">
                            </div>
                            <div class="form-group">
                                <label>ğŸ¢ ì§€ì </label>
                                <select id="designerBranch" required="">
                                    <option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ğŸ·ï¸ ì§ê¸‰</label>
                                <select id="designerPosition" required="">
                                    <option value="">ì§ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”</option>
                                    <option value="ì¸í„´">ì¸í„´</option>
                                    <option value="ë””ìì´ë„ˆ">ë””ìì´ë„ˆ</option>
                                    <option value="íŒ€ì¥">íŒ€ì¥</option>
                                    <option value="ì‹¤ì¥">ì‹¤ì¥</option>
                                    <option value="ë¶€ì›ì¥">ë¶€ì›ì¥</option>
                                    <option value="ì›ì¥">ì›ì¥</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ğŸ“ ì „í™”ë²ˆí˜¸</label>
                                <input type="tel" id="designerPhone" required="">
                            </div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <button type="button" onclick="hideAddDesigner()" class="btn btn-secondary">âŒ ì·¨ì†Œ</button>
                                <button type="submit" class="btn">â• ì¶”ê°€</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ì§€ì  ê´€ë¦¬ -->
            <div id="branchesPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">ğŸ¢ ì§€ì  ê´€ë¦¬</h2>
                </div>

                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 class="text-xl font-bold">ë“±ë¡ëœ ì§€ì </h3>
                        <button onclick="showAddBranch()" class="btn">
                            â• ìƒˆ ì§€ì  ì¶”ê°€
                        </button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ì§€ì ëª…</th>
                                    <th>ì§€ì ì½”ë“œ</th>
                                    <th>ì£¼ì†Œ</th>
                                    <th>ë””ìì´ë„ˆ ìˆ˜</th>
                                    <th>ë“±ë¡ì¼</th>
                                    <th>ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="branchesList">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ì§€ì  ì¶”ê°€ ëª¨ë‹¬ -->
                <div id="addBranchModal" class="modal hidden">
                    <div class="modal-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="text-lg font-bold">ğŸ¢ ìƒˆ ì§€ì  ì¶”ê°€</h3>
                            <button onclick="hideAddBranch()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">âŒ</button>
                        </div>
                        <form id="addBranchForm">
                            <div class="form-group">
                                <label>ğŸª ì§€ì ëª…</label>
                                <input type="text" id="branchName" required="">
                            </div>
                            <div class="form-group">
                                <label>ğŸ·ï¸ ì§€ì ì½”ë“œ</label>
                                <input type="text" id="branchCode" required="">
                            </div>
                            <div class="form-group">
                                <label>ğŸ“ ì£¼ì†Œ</label>
                                <input type="text" id="branchAddress" required="">
                            </div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <button type="button" onclick="hideAddBranch()" class="btn btn-secondary">âŒ ì·¨ì†Œ</button>
                                <button type="submit" class="btn">â• ì¶”ê°€</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ì§€ì  í¸ì§‘ ëª¨ë‹¬ -->
                <div id="editBranchModal" class="modal hidden">
                    <div class="modal-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 class="text-lg font-bold">âœï¸ ì§€ì  í¸ì§‘</h3>
                            <button onclick="hideEditBranch()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">âŒ</button>
                        </div>
                        <form id="editBranchForm">
                            <input type="hidden" id="editBranchId">
                            <div class="form-group">
                                <label>ğŸª ì§€ì ëª…</label>
                                <input type="text" id="editBranchName" required="">
                            </div>
                            <div class="form-group">
                                <label>ğŸ·ï¸ ì§€ì ì½”ë“œ</label>
                                <input type="text" id="editBranchCode" required="">
                            </div>
                            <div class="form-group">
                                <label>ğŸ“ ì£¼ì†Œ</label>
                                <input type="text" id="editBranchAddress" required="">
                            </div>
                            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                                <button type="button" onclick="hideEditBranch()" class="btn btn-secondary">âŒ ì·¨ì†Œ</button>
                                <button type="submit" class="btn">ğŸ’¾ ì €ì¥</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬ -->
            <div id="historyPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">ğŸ“ˆ ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬</h2>
                    
                    <!-- í•„í„° ì»¨íŠ¸ë¡¤ -->
                    <div class="filter-controls">
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label class="font-medium">ğŸ‘¤ ë””ìì´ë„ˆ ì„ íƒ</label>
                                <select id="historyDesigner" onchange="loadDesignerHistory()">
                                    <option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                                </select>
                            </div>
                            <div>
                                <label class="font-medium">ğŸ“… ê¸°ê°„ ì„ íƒ</label>
                                <select id="historyPeriod" onchange="loadDesignerHistory()">
                                    <option value="week">ì´ë²ˆ ì£¼</option>
                                    <option value="month" selected="">ì´ë²ˆ ë‹¬</option>
                                    <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                    <option value="all">ì „ì²´</option>
                                    <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                                </select>
                            </div>
                            <div id="historyCustomRange" class="hidden grid grid-cols-2 gap-4">
                                <div>
                                    <label class="font-medium">ì‹œì‘ì¼</label>
                                    <input type="date" id="historyStartDate" onchange="loadDesignerHistory()">
                                </div>
                                <div>
                                    <label class="font-medium">ì¢…ë£Œì¼</label>
                                    <input type="date" id="historyEndDate" onchange="loadDesignerHistory()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="historyContent" class="card">
                    <div class="text-center" style="padding: 3rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">â„¹ï¸</div>
                        <p style="color: #6b7280;">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ íˆìŠ¤í† ë¦¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>

            <!-- ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥ -->
            <div id="checklistPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥</h2>
                </div>

                <div class="grid grid-cols-2 gap-6">
                    <div class="card">
                        <h3 class="text-xl font-bold mb-4">ì¼ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥</h3>
                        <form id="checklistForm">
                            <div class="form-group">
                                <label>ğŸ‘¤ ë””ìì´ë„ˆ ì„ íƒ</label>
                                <select id="checklistDesigner" required="">
                                    <option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ğŸ“… ë‚ ì§œ</label>
                                <input type="date" id="checklistDate" required="">
                            </div>
                            
                            <div class="mb-6">
                                <h4 class="font-bold text-lg mb-3" style="color: #10b981; border-bottom: 1px solid #d1fae5; padding-bottom: 0.5rem;">
                                    ğŸŸ¢ ë„¤ì´ë²„
                                </h4>
                                <div style="display: grid; gap: 1rem;">
                                    <div class="form-group">
                                        <label>â­ ë¦¬ë·° ìˆ˜</label>
                                        <input type="number" id="naverReviews" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label>ğŸ“ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìˆ˜</label>
                                        <input type="number" id="naverPosts" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label>ğŸ¯ ì²´í—˜ë‹¨ ìš´ì˜ ê±´ìˆ˜</label>
                                        <input type="number" id="naverExperience" min="0" value="0">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <h4 class="font-bold text-lg mb-3" style="color: #ef4444; border-bottom: 1px solid #fecaca; padding-bottom: 0.5rem;">
                                    ğŸ“± ì¸ìŠ¤íƒ€ê·¸ë¨
                                </h4>
                                <div style="display: grid; gap: 1rem;">
                                    <div class="form-group">
                                        <label>ğŸ¬ ë¦´ìŠ¤ ê²Œì‹œ ìˆ˜</label>
                                        <input type="number" id="instaReels" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label>ğŸ“· ì‚¬ì§„ ê²Œì‹œ ìˆ˜</label>
                                        <input type="number" id="instaPhotos" min="0" value="0">
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn" style="width: 100%;">
                                ğŸš€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ
                            </button>
                        </form>
                    </div>

                    <div class="card">
                        <h3 class="text-xl font-bold mb-4">ğŸ“Š ì„ íƒëœ ë””ìì´ë„ˆ ì •ë³´</h3>
                        <div id="selectedDesignerInfo">
                            <div class="text-center" style="padding: 3rem;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">â„¹ï¸</div>
                                <p style="color: #6b7280;">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- í†µê³„ ë¶„ì„ -->
            <div id="statisticsPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">ğŸ“Š í†µê³„ ë¶„ì„</h2>
                </div>

                <div class="filter-controls">
                    <div class="grid grid-cols-4 gap-4">
                        <div>
                            <label class="font-medium">ğŸ“… ê¸°ê°„ ì„ íƒ</label>
                            <select id="statisticsPeriod">
                                <option value="today">ì˜¤ëŠ˜</option>
                                <option value="week">ì´ë²ˆ ì£¼</option>
                                <option value="month">ì´ë²ˆ ë‹¬</option>
                                <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                            </select>
                        </div>
                        <div class="admin-only">
                            <label class="font-medium">ğŸ¢ ì§€ì  ì„ íƒ</label>
                            <select id="statisticsBranch">
                                <option value="">ì „ì²´ ì§€ì </option>
                            </select>
                        </div>
                        <div>
                            <label class="font-medium">ğŸ·ï¸ ì¹´í…Œê³ ë¦¬</label>
                            <select id="statisticsCategory">
                                <option value="all">ì „ì²´</option>
                                <option value="reviews">ë„¤ì´ë²„ ë¦¬ë·°</option>
                                <option value="posts">ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…</option>
                                <option value="experience">ì²´í—˜ë‹¨</option>
                                <option value="reels">ì¸ìŠ¤íƒ€ ë¦´ìŠ¤</option>
                                <option value="photos">ì¸ìŠ¤íƒ€ ì‚¬ì§„</option>
                            </select>
                        </div>
                        <div>
                            <label class="font-medium">ğŸ”€ ì •ë ¬</label>
                            <select id="statisticsSort">
                                <option value="desc">ë†’ì€ ìˆœ</option>
                                <option value="asc">ë‚®ì€ ìˆœ</option>
                            </select>
                        </div>
                    </div>

                    <div id="customDateRange" class="hidden grid grid-cols-2 gap-4 mt-4">
                        <div>
                            <label class="font-medium">ì‹œì‘ì¼</label>
                            <input type="date" id="startDate">
                        </div>
                        <div>
                            <label class="font-medium">ì¢…ë£Œì¼</label>
                            <input type="date" id="endDate">
                        </div>
                    </div>

                    <div style="margin-top: 1rem;">
                        <button onclick="updateStatisticsChart()" class="btn">
                            ğŸ”„ ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-6">
                    <div class="card">
                        <h3 class="text-lg font-bold mb-4">ì°¨íŠ¸ ë¶„ì„</h3>
                        <div class="chart-container">
                            <canvas id="statisticsChart"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="text-lg font-bold mb-4">ìˆœìœ„ í…Œì´ë¸”</h3>
                        <div class="overflow-x-auto" id="statisticsTable">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì§€ì  ë¹„êµ -->
            <div id="comparisonPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold mb-4">âš–ï¸ ì§€ì  ë¹„êµ ë¶„ì„</h2>
                </div>

                <div class="filter-controls">
                    <div class="grid grid-cols-2 gap-6">
                        <div>
                            <h3 class="text-lg font-bold mb-4">ë¹„êµí•  ì§€ì  ì„ íƒ</h3>
                            <div class="mb-4">
                                <label style="display: flex; align-items: center; font-weight: 600; color: #6366f1;">
                                    <input type="checkbox" id="selectAllBranches" style="margin-right: 0.5rem;"> 
                                    âœ… ì „ì§€ì  ì„ íƒ
                                </label>
                            </div>
                            
                            <div id="branchCheckboxes" style="display: grid; gap: 0.5rem;">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </div>
                        </div>

                        <div>
                            <div style="display: grid; gap: 1rem;">
                                <div>
                                    <label class="font-medium">ğŸ“… ë¹„êµ ê¸°ê°„</label>
                                    <select id="comparisonPeriod">
                                        <option value="week">ì´ë²ˆ ì£¼</option>
                                        <option value="month">ì´ë²ˆ ë‹¬</option>
                                        <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                        <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="font-medium">ğŸ·ï¸ ì¹´í…Œê³ ë¦¬</label>
                                    <select id="comparisonCategory">
                                        <option value="all">ì „ì²´</option>
                                        <option value="reviews">ë„¤ì´ë²„ ë¦¬ë·°</option>
                                        <option value="posts">ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…</option>
                                        <option value="experience">ì²´í—˜ë‹¨</option>
                                        <option value="reels">ì¸ìŠ¤íƒ€ ë¦´ìŠ¤</option>
                                        <option value="photos">ì¸ìŠ¤íƒ€ ì‚¬ì§„</option>
                                    </select>
                                </div>
                                <div id="comparisonCustomDateRange" class="hidden">
                                    <div class="grid grid-cols-2 gap-2">
                                        <div>
                                            <label class="font-medium">ì‹œì‘ì¼</label>
                                            <input type="date" id="comparisonStartDate">
                                        </div>
                                        <div>
                                            <label class="font-medium">ì¢…ë£Œì¼</label>
                                            <input type="date" id="comparisonEndDate">
                                        </div>
                                    </div>
                                </div>
                                <button onclick="updateComparisonCharts()" class="btn" style="width: 100%;">
                                    ğŸ”„ ë¹„êµ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ë³„ ì°¨íŠ¸ -->
                <div class="grid grid-cols-2 gap-6">
                    <div class="card">
                        <h3 class="font-bold mb-4" style="color: #10b981; border-bottom: 1px solid #d1fae5; padding-bottom: 0.5rem;">
                            â­ ë„¤ì´ë²„ ë¦¬ë·°
                        </h3>
                        <div class="chart-container">
                            <canvas id="reviewsChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="font-bold mb-4" style="color: #10b981; border-bottom: 1px solid #d1fae5; padding-bottom: 0.5rem;">
                            ğŸ“ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…
                        </h3>
                        <div class="chart-container">
                            <canvas id="postsChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="font-bold mb-4" style="color: #f59e0b; border-bottom: 1px solid #fef3c7; padding-bottom: 0.5rem;">
                            ğŸ¯ ì²´í—˜ë‹¨ ìš´ì˜
                        </h3>
                        <div class="chart-container">
                            <canvas id="experienceChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="font-bold mb-4" style="color: #ef4444; border-bottom: 1px solid #fecaca; padding-bottom: 0.5rem;">
                            ğŸ¬ ì¸ìŠ¤íƒ€ ë¦´ìŠ¤
                        </h3>
                        <div class="chart-container">
                            <canvas id="reelsChart"></canvas>
                        </div>
                    </div>
                    <div class="card" style="grid-column: span 2;">
                        <h3 class="font-bold mb-4" style="color: #ef4444; border-bottom: 1px solid #fecaca; padding-bottom: 0.5rem;">
                            ğŸ“· ì¸ìŠ¤íƒ€ ì‚¬ì§„
                        </h3>
                        <div class="chart-container">
                            <canvas id="photosChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- ìƒì„¸ ë¹„êµ í‘œ -->
                <div class="card" style="margin-top: 1.5rem;">
                    <h3 class="text-lg font-bold mb-4">ğŸ“Š ìƒì„¸ ë¹„êµ í‘œ</h3>
                    <div class="overflow-x-auto" id="comparisonTable">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- íŒŒì¼ ì…ë ¥ (ìˆ¨ê¹€) -->
    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-firestore.js";

        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyCoQ5UtXw7lu1blqEx7CFQV61dXBDnPGpI",
            authDomain: "gohair-sns-system.firebaseapp.com",
            projectId: "gohair-sns-system",
            storageBucket: "gohair-sns-system.firebasestorage.app",
            messagingSenderId: "241670983626",
            appId: "1:241670983626:web:4d1160f09145f8fdc94933",
            measurementId: "G-RJRRZVZK6L"
        };

        // Firebase ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ì „ì—­ìœ¼ë¡œ Firebase í•¨ìˆ˜ë“¤ ë…¸ì¶œ
        window.db = db;
        window.firestoreFunctions = {
            collection,
            addDoc,
            getDocs,
            doc,
            updateDoc,
            deleteDoc,
            onSnapshot,
            setDoc,
            getDoc
        };

        // ì—°ê²° ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateConnectionStatus(connected) {
            const statusElement = document.getElementById('connectionStatus');
            if (connected) {
                statusElement.textContent = 'ğŸŸ¢ Firebase ì—°ê²°ë¨';
                statusElement.className = 'connection-status connected';
            } else {
                statusElement.textContent = 'ğŸ”´ ì—°ê²° ëŠì–´ì§';
                statusElement.className = 'connection-status disconnected';
            }
        }

        // Firebase ì—°ê²° í…ŒìŠ¤íŠ¸
        try {
            const testCollection = collection(db, 'test');
            updateConnectionStatus(true);
            console.log('Firebase ì—°ê²° ì„±ê³µ');
        } catch (error) {
            console.error('Firebase ì—°ê²° ì‹¤íŒ¨:', error);
            updateConnectionStatus(false);
        }

        // Firebase ë°ì´í„° ê´€ë¦¬ í´ë˜ìŠ¤
        class FirebaseDataManager {
            constructor() {
                this.collections = {
                    users: 'users',
                    branches: 'branches',
                    designers: 'designers',
                    checklists: 'checklists'
                };
                this.initializeDefaultData();
            }

            async initializeDefaultData() {
                try {
                    // ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • í™•ì¸ ë° ìƒì„±
                    const adminDoc = await window.firestoreFunctions.getDoc(
                        window.firestoreFunctions.doc(window.db, this.collections.users, 'admin@gohair.com')
                    );
                    
                    if (!adminDoc.exists()) {
                        await this.createDefaultData();
                    }
                } catch (error) {
                    console.error('ê¸°ë³¸ ë°ì´í„° ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                }
            }

            async createDefaultData() {
                const defaultUsers = {
                    'admin@gohair.com': { password: 'GoHair2024!', role: 'admin', name: 'ê´€ë¦¬ì' },
                    'songdo@gohair.com': { password: 'Songdo123!', role: 'leader', branch: 'ì†¡ë„1ì§€ì ', name: 'ì†¡ë„ë¦¬ë”' },
                    'geomdan@gohair.com': { password: 'Geomdan123!', role: 'leader', branch: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ', name: 'ê²€ë‹¨ë¦¬ë”' },
                    'bupyeong@gohair.com': { password: 'Bupyeong123!', role: 'leader', branch: 'ë¶€í‰ì ', name: 'ë¶€í‰ë¦¬ë”' }
                };

                const defaultBranches = [
                    { id: 1, name: 'ì†¡ë„1ì§€ì ', code: 'SD01', address: 'ì¸ì²œì‹œ ì—°ìˆ˜êµ¬ ì†¡ë„ë™', createdAt: '2024-01-01' },
                    { id: 2, name: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ', code: 'GD01', address: 'ì¸ì²œì‹œ ì„œêµ¬ ê²€ë‹¨ë™', createdAt: '2024-01-01' },
                    { id: 3, name: 'ë¶€í‰ì ', code: 'BP01', address: 'ì¸ì²œì‹œ ë¶€í‰êµ¬ ë¶€í‰ë™', createdAt: '2024-01-01' }
                ];

                const defaultDesigners = [
                    { id: 1, name: 'ê¹€ë””ìì´ë„ˆ', branch: 'ì†¡ë„1ì§€ì ', position: 'ë””ìì´ë„ˆ', phone: '010-1234-5678', createdAt: '2024-01-15' },
                    { id: 2, name: 'ì´ì‹¤ì¥', branch: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ', position: 'ì‹¤ì¥', phone: '010-2345-6789', createdAt: '2024-01-10' },
                    { id: 3, name: 'ë°•íŒ€ì¥', branch: 'ë¶€í‰ì ', position: 'íŒ€ì¥', phone: '010-3456-7890', createdAt: '2024-01-20' }
                ];

                try {
                    // ì‚¬ìš©ì ë°ì´í„° ìƒì„±
                    for (const [email, userData] of Object.entries(defaultUsers)) {
                        await window.firestoreFunctions.setDoc(
                            window.firestoreFunctions.doc(window.db, this.collections.users, email),
                            userData
                        );
                    }

                    // ì§€ì  ë°ì´í„° ìƒì„±
                    for (const branch of defaultBranches) {
                        await window.firestoreFunctions.addDoc(
                            window.firestoreFunctions.collection(window.db, this.collections.branches),
                            branch
                        );
                    }

                    // ë””ìì´ë„ˆ ë°ì´í„° ìƒì„±
                    for (const designer of defaultDesigners) {
                        await window.firestoreFunctions.addDoc(
                            window.firestoreFunctions.collection(window.db, this.collections.designers),
                            designer
                        );
                    }

                    console.log('ê¸°ë³¸ ë°ì´í„° ìƒì„± ì™„ë£Œ');
                } catch (error) {
                    console.error('ê¸°ë³¸ ë°ì´í„° ìƒì„± ì˜¤ë¥˜:', error);
                }
            }

            async getUser(email) {
                try {
                    const userDoc = await window.firestoreFunctions.getDoc(
                        window.firestoreFunctions.doc(window.db, this.collections.users, email)
                    );
                    return userDoc.exists() ? userDoc.data() : null;
                } catch (error) {
                    console.error('ì‚¬ìš©ì ì¡°íšŒ ì˜¤ë¥˜:', error);
                    return null;
                }
            }

            async addUser(email, userData) {
                try {
                    await window.firestoreFunctions.setDoc(
                        window.firestoreFunctions.doc(window.db, this.collections.users, email),
                        userData
                    );
                    return userData;
                } catch (error) {
                    console.error('ì‚¬ìš©ì ì¶”ê°€ ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            async getBranches() {
                try {
                    const querySnapshot = await window.firestoreFunctions.getDocs(
                        window.firestoreFunctions.collection(window.db, this.collections.branches)
                    );
                    return querySnapshot.docs.map(doc => ({ docId: doc.id, ...doc.data() }));
                } catch (error) {
                    console.error('ì§€ì  ì¡°íšŒ ì˜¤ë¥˜:', error);
                    return [];
                }
            }

            async addBranch(branchData) {
                try {
                    const docRef = await window.firestoreFunctions.addDoc(
                        window.firestoreFunctions.collection(window.db, this.collections.branches),
                        { ...branchData, createdAt: new Date().toISOString().split('T')[0] }
                    );
                    return { docId: docRef.id, ...branchData };
                } catch (error) {
                    console.error('ì§€ì  ì¶”ê°€ ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            async updateBranch(docId, branchData) {
                try {
                    await window.firestoreFunctions.updateDoc(
                        window.firestoreFunctions.doc(window.db, this.collections.branches, docId),
                        branchData
                    );
                    return branchData;
                } catch (error) {
                    console.error('ì§€ì  ìˆ˜ì • ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            async deleteBranch(docId) {
                try {
                    await window.firestoreFunctions.deleteDoc(
                        window.firestoreFunctions.doc(window.db, this.collections.branches, docId)
                    );
                } catch (error) {
                    console.error('ì§€ì  ì‚­ì œ ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            async getDesigners() {
                try {
                    const querySnapshot = await window.firestoreFunctions.getDocs(
                        window.firestoreFunctions.collection(window.db, this.collections.designers)
                    );
                    return querySnapshot.docs.map(doc => ({ docId: doc.id, ...doc.data() }));
                } catch (error) {
                    console.error('ë””ìì´ë„ˆ ì¡°íšŒ ì˜¤ë¥˜:', error);
                    return [];
                }
            }

            async addDesigner(designerData) {
                try {
                    const docRef = await window.firestoreFunctions.addDoc(
                        window.firestoreFunctions.collection(window.db, this.collections.designers),
                        { ...designerData, createdAt: new Date().toISOString().split('T')[0] }
                    );
                    return { docId: docRef.id, ...designerData };
                } catch (error) {
                    console.error('ë””ìì´ë„ˆ ì¶”ê°€ ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            async deleteDesigner(docId) {
                try {
                    await window.firestoreFunctions.deleteDoc(
                        window.firestoreFunctions.doc(window.db, this.collections.designers, docId)
                    );
                } catch (error) {
                    console.error('ë””ìì´ë„ˆ ì‚­ì œ ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            async getChecklists() {
                try {
                    const querySnapshot = await window.firestoreFunctions.getDocs(
                        window.firestoreFunctions.collection(window.db, this.collections.checklists)
                    );
                    return querySnapshot.docs.map(doc => ({ docId: doc.id, ...doc.data() }));
                } catch (error) {
                    console.error('ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì˜¤ë¥˜:', error);
                    return [];
                }
            }

            async addChecklist(checklistData) {
                try {
                    const docRef = await window.firestoreFunctions.addDoc(
                        window.firestoreFunctions.collection(window.db, this.collections.checklists),
                        checklistData
                    );
                    return { docId: docRef.id, ...checklistData };
                } catch (error) {
                    console.error('ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ì˜¤ë¥˜:', error);
                    throw error;
                }
            }

            // ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
            onBranchesChange(callback) {
                return window.firestoreFunctions.onSnapshot(
                    window.firestoreFunctions.collection(window.db, this.collections.branches),
                    (snapshot) => {
                        const branches = snapshot.docs.map(doc => ({ docId: doc.id, ...doc.data() }));
                        callback(branches);
                    }
                );
            }

            onDesignersChange(callback) {
                return window.firestoreFunctions.onSnapshot(
                    window.firestoreFunctions.collection(window.db, this.collections.designers),
                    (snapshot) => {
                        const designers = snapshot.docs.map(doc => ({ docId: doc.id, ...doc.data() }));
                        callback(designers);
                    }
                );
            }

            onChecklistsChange(callback) {
                return window.firestoreFunctions.onSnapshot(
                    window.firestoreFunctions.collection(window.db, this.collections.checklists),
                    (snapshot) => {
                        const checklists = snapshot.docs.map(doc => ({ docId: doc.id, ...doc.data() }));
                        callback(checklists);
                    }
                );
            }
        }

        // ì „ì—­ ë³€ìˆ˜ë¡œ ì„¤ì •
        window.dataManager = new FirebaseDataManager();
        window.currentUser = null;
        window.charts = {};
        window.sortOrder = {};
        window.cachedData = {
            branches: [],
            designers: [],
            checklists: []
        };

        // ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™” ì„¤ì •
        window.dataManager.onBranchesChange((branches) => {
            window.cachedData.branches = branches;
            if (window.currentPage === 'branches') {
                window.loadBranches();
            }
            window.loadDashboard();
        });

        window.dataManager.onDesignersChange((designers) => {
            window.cachedData.designers = designers;
            if (window.currentPage === 'designers') {
                window.loadDesigners();
            }
        });

        window.dataManager.onChecklistsChange((checklists) => {
            window.cachedData.checklists = checklists;
            if (window.currentPage === 'dashboard') {
                window.loadDashboard();
            }
        });

        console.log('Firebase ì´ˆê¸°í™” ì™„ë£Œ');
    </script>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentPage = 'dashboard';

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ê¸°ê°„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const dashboardPeriod = document.getElementById('dashboardPeriod');
            const designersPeriod = document.getElementById('designersPeriod');
            const historyPeriod = document.getElementById('historyPeriod');

            if (dashboardPeriod) {
                dashboardPeriod.addEventListener('change', function() {
                    const customRange = document.getElementById('dashboardCustomRange');
                    if (this.value === 'custom') {
                        customRange.classList.remove('hidden');
                    } else {
                        customRange.classList.add('hidden');
                    }
                });
            }

            if (designersPeriod) {
                designersPeriod.addEventListener('change', function() {
                    const customRange = document.getElementById('designersCustomRange');
                    if (this.value === 'custom') {
                        customRange.classList.remove('hidden');
                    } else {
                        customRange.classList.add('hidden');
                    }
                });
            }

            if (historyPeriod) {
                historyPeriod.addEventListener('change', function() {
                    const customRange = document.getElementById('historyCustomRange');
                    if (this.value === 'custom') {
                        customRange.classList.remove('hidden');
                    } else {
                        customRange.classList.add('hidden');
                    }
                });
            }

            // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
            setTimeout(() => {
                loadInitialData();
            }, 1000);
        });

        async function loadInitialData() {
            try {
                window.cachedData.branches = await window.dataManager.getBranches();
                window.cachedData.designers = await window.dataManager.getDesigners();
                window.cachedData.checklists = await window.dataManager.getChecklists();
            } catch (error) {
                console.error('ì´ˆê¸° ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
            }
        }

        // ë¡œê·¸ì¸/ê°€ì… ì²˜ë¦¬
        function showLogin() {
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('signupPage').classList.add('hidden');
        }

        function showSignup() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('signupPage').classList.remove('hidden');
        }

        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            try {
                const user = await window.dataManager.getUser(email);
                if (user && user.password === password) {
                    currentUser = { email: email, ...user };
                    document.getElementById('loginPage').classList.add('hidden');
                    document.getElementById('mainSystem').classList.remove('hidden');
                    
                    document.getElementById('currentUser').textContent = currentUser.name;
                    
                    const adminMenus = document.querySelectorAll('.admin-only');
                    adminMenus.forEach(menu => {
                        if (currentUser.role === 'admin') {
                            menu.classList.remove('hidden');
                        } else {
                            menu.classList.add('hidden');
                        }
                    });
                    
                    showPage('dashboard');
                    await loadInitialData();
                    loadDashboard();
                } else {
                    alert('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
                alert('ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        });

        document.getElementById('signupForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const name = document.getElementById('signupName').value;
            const branch = document.getElementById('signupBranch').value;

            try {
                // ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬
                const existingUser = await window.dataManager.getUser(email);
                if (existingUser) {
                    alert('ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.');
                    return;
                }

                // ìƒˆ ì‚¬ìš©ì ì¶”ê°€
                const newUser = {
                    password: password,
                    role: 'leader',
                    name: name,
                    branch: branch
                };

                await window.dataManager.addUser(email, newUser);
                alert('ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');
                showLogin();
            } catch (error) {
                console.error('ê°€ì… ì˜¤ë¥˜:', error);
                alert('ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        });

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            currentUser = null;
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('mainSystem').classList.add('hidden');
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
        }

        // í˜ì´ì§€ ì „í™˜
        function showPage(pageId) {
            currentPage = pageId;
            const pages = ['dashboard', 'designers', 'branches', 'history', 'checklist', 'statistics', 'comparison'];
            pages.forEach(page => {
                const element = document.getElementById(page + 'Page');
                if (element) {
                    element.classList.add('hidden');
                }
            });
            
            const targetPage = document.getElementById(pageId + 'Page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }
            
            // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            }

            // í˜ì´ì§€ë³„ ë°ì´í„° ë¡œë“œ
            switch(pageId) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'designers':
                    loadDesigners();
                    break;
                case 'branches':
                    loadBranches();
                    break;
                case 'history':
                    loadHistoryPage();
                    break;
                case 'checklist':
                    loadChecklist();
                    break;
                case 'statistics':
                    loadStatistics();
                    break;
                case 'comparison':
                    loadComparison();
                    break;
            }
        }

        // ê¸°ê°„ í•„í„°ë§ í•¨ìˆ˜
        function filterDataByPeriod(data, period, startDate, endDate) {
            const now = new Date();
            let filterDate;

            switch(period) {
                case 'today':
                    filterDate = now.toISOString().split('T')[0];
                    return data.filter(d => d.date === filterDate);
                case 'week':
                    filterDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                    return data.filter(d => new Date(d.date) >= filterDate);
                case 'month':
                    filterDate = new Date(now.getFullYear(), now.getMonth(), 1);
                    return data.filter(d => new Date(d.date) >= filterDate);
                case 'quarter':
                    const quarter = Math.floor(now.getMonth() / 3);
                    filterDate = new Date(now.getFullYear(), quarter * 3, 1);
                    return data.filter(d => new Date(d.date) >= filterDate);
                case 'custom':
                    if (startDate && endDate) {
                        return data.filter(d => d.date >= startDate && d.date <= endDate);
                    }
                    return data;
                case 'all':
                default:
                    return data;
            }
        }

        // ëŒ€ì‹œë³´ë“œ ë¡œë“œ
        function loadDashboard() {
            const period = document.getElementById('dashboardPeriod').value;
            const startDate = document.getElementById('dashboardStartDate')?.value;
            const endDate = document.getElementById('dashboardEndDate')?.value;
            
            let checklists = window.cachedData.checklists;
            
            // ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ ë°ì´í„° í•„í„°ë§
            if (currentUser && currentUser.role === 'leader') {
                checklists = checklists.filter(c => c.branch === currentUser.branch);
            }
            
            // ê¸°ê°„ í•„í„°ë§
            checklists = filterDataByPeriod(checklists, period, startDate, endDate);
            
            // ì „ì²´ í†µê³„ ê³„ì‚°
            const totalReviews = checklists.reduce((sum, c) => sum + (c.naverReviews || 0), 0);
            const totalPosts = checklists.reduce((sum, c) => sum + (c.naverPosts || 0), 0);
            const totalExperience = checklists.reduce((sum, c) => sum + (c.naverExperience || 0), 0);
            const totalReels = checklists.reduce((sum, c) => sum + (c.instaReels || 0), 0);
            const totalPhotos = checklists.reduce((sum, c) => sum + (c.instaPhotos || 0), 0);

            document.getElementById('totalReviews').textContent = totalReviews;
            document.getElementById('totalPosts').textContent = totalPosts;
            document.getElementById('totalExperience').textContent = totalExperience;
            document.getElementById('totalReels').textContent = totalReels;
            document.getElementById('totalPhotos').textContent = totalPhotos;

            // ì§€ì ë³„ ìˆœìœ„
            loadBranchRankings(checklists);
        }

        // ì§€ì ë³„ ìˆœìœ„ ë¡œë“œ
        function loadBranchRankings(checklists) {
            const branches = window.cachedData.branches;
            
            // ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ ì§€ì  í•„í„°ë§
            const userBranches = currentUser && currentUser.role === 'leader' 
                ? branches.filter(b => b.name === currentUser.branch)
                : branches;
            
            const branchStats = userBranches.map(branch => {
                const branchChecklists = checklists.filter(c => c.branch === branch.name);
                const reviews = branchChecklists.reduce((sum, c) => sum + (c.naverReviews || 0), 0);
                const posts = branchChecklists.reduce((sum, c) => sum + (c.naverPosts || 0), 0);
                const experience = branchChecklists.reduce((sum, c) => sum + (c.naverExperience || 0), 0);
                const reels = branchChecklists.reduce((sum, c) => sum + (c.instaReels || 0), 0);
                const photos = branchChecklists.reduce((sum, c) => sum + (c.instaPhotos || 0), 0);
                const total = reviews + posts + experience + reels + photos;
                
                return { branch: branch.name, reviews, posts, experience, reels, photos, total };
            });

            branchStats.sort((a, b) => b.total - a.total);

            const tbody = document.getElementById('branchRankings');
            tbody.innerHTML = branchStats.map((stat, index) => `
                <tr style="${index % 2 === 0 ? 'background-color: #f8fafc;' : ''}">
                    <td class="font-bold">${index + 1}</td>
                    <td class="font-medium">${stat.branch}</td>
                    <td>${stat.reviews}</td>
                    <td>${stat.posts}</td>
                    <td>${stat.experience}</td>
                    <td>${stat.reels}</td>
                    <td>${stat.photos}</td>
                    <td class="font-bold" style="color: #6366f1;">${stat.total}</td>
                </tr>
            `).join('');
        }

        // ìˆœìœ„ ì •ë ¬
        function sortRankings(column) {
            const order = sortOrder[column] === 'asc' ? 'desc' : 'asc';
            sortOrder[column] = order;
            loadDashboard();
        }

        // ë””ìì´ë„ˆ ê´€ë¦¬ ë¡œë“œ
        function loadDesigners() {
            const period = document.getElementById('designersPeriod').value;
            const startDate = document.getElementById('designersStartDate')?.value;
            const endDate = document.getElementById('designersEndDate')?.value;
            const branchFilter = document.getElementById('designerBranchFilter')?.value || '';
            
            const designers = window.cachedData.designers;
            let checklists = window.cachedData.checklists;
            
            // ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ í•„í„°ë§
            const userBranch = currentUser && currentUser.role === 'leader' ? currentUser.branch : null;
            const filteredDesigners = userBranch ? 
                designers.filter(d => d.branch === userBranch) : 
                branchFilter ? designers.filter(d => d.branch === branchFilter) : designers;

            // ê¸°ê°„ í•„í„°ë§
            checklists = filterDataByPeriod(checklists, period, startDate, endDate);
            
            // ì¹´í…Œê³ ë¦¬ë³„ í™œë™ëŸ‰ ê³„ì‚°
            const designersWithActivity = filteredDesigners.map(designer => {
                const designerChecklists = checklists.filter(c => c.designerId === designer.id);
                const reviews = designerChecklists.reduce((sum, c) => sum + (c.naverReviews || 0), 0);
                const posts = designerChecklists.reduce((sum, c) => sum + (c.naverPosts || 0), 0);
                const experience = designerChecklists.reduce((sum, c) => sum + (c.naverExperience || 0), 0);
                const reels = designerChecklists.reduce((sum, c) => sum + (c.instaReels || 0), 0);
                const photos = designerChecklists.reduce((sum, c) => sum + (c.instaPhotos || 0), 0);
                const totalActivity = reviews + posts + experience + reels + photos;
                
                return { ...designer, reviews, posts, experience, reels, photos, totalActivity };
            });

            const tbody = document.getElementById('designersList');
            tbody.innerHTML = designersWithActivity.map(designer => `
                <tr style="border-bottom: 1px solid #e5e7eb;">
                    <td class="font-medium">${designer.name}</td>
                    <td>${designer.branch}</td>
                    <td>
                        <span class="badge badge-blue">${designer.position}</span>
                    </td>
                    <td>${designer.phone}</td>
                    <td>${designer.createdAt}</td>
                    <td>${designer.reviews}</td>
                    <td>${designer.posts}</td>
                    <td>${designer.experience}</td>
                    <td>${designer.reels}</td>
                    <td>${designer.photos}</td>
                    <td class="font-bold" style="color: #10b981;">${designer.totalActivity}</td>
                    <td>
                        <button onclick="editDesigner('${designer.docId}')" class="btn" style="padding: 0.25rem 0.5rem; font-size: 0.75rem; margin-right: 0.25rem;">
                            âœï¸
                        </button>
                        <button onclick="deleteDesigner('${designer.docId}')" class="btn btn-red" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">
                            ğŸ—‘ï¸
                        </button>
                    </td>
                </tr>
            `).join('');

            // ì§€ì  ì˜µì…˜ ë¡œë“œ
            loadBranchOptions();
        }

        // íˆìŠ¤í† ë¦¬ í˜ì´ì§€ ë¡œë“œ
        function loadHistoryPage() {
            const designers = window.cachedData.designers;
            const userBranch = currentUser && currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredDesigners = userBranch ? 
                designers.filter(d => d.branch === userBranch) : designers;

            const select = document.getElementById('historyDesigner');
            select.innerHTML = '<option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>' +
                filteredDesigners.map(d => `
                    <option value="${d.id}">
                        ${d.name} (${d.branch} - ${d.position})
                    </option>
                `).join('');
        }

        // ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬ ë¡œë“œ
        function loadDesignerHistory() {
            const designerId = document.getElementById('historyDesigner').value;
            const period = document.getElementById('historyPeriod').value;
            const startDate = document.getElementById('historyStartDate')?.value;
            const endDate = document.getElementById('historyEndDate')?.value;
            
            if (!designerId) {
                document.getElementById('historyContent').innerHTML = `
                    <div class="text-center" style="padding: 3rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">â„¹ï¸</div>
                        <p style="color: #6b7280;">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ íˆìŠ¤í† ë¦¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }

            let checklists = window.cachedData.checklists.filter(c => c.designerId == designerId);
            const designer = window.cachedData.designers.find(d => d.id == designerId);
            
            // ê¸°ê°„ í•„í„°ë§
            checklists = filterDataByPeriod(checklists, period, startDate, endDate);
            
            if (checklists.length === 0) {
                document.getElementById('historyContent').innerHTML = `
                    <div class="text-center" style="padding: 3rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“­</div>
                        <h4 class="text-lg font-medium mb-4">${designer.name}ë‹˜ì˜ ê¸°ë¡</h4>
                        <p style="color: #6b7280;">ì„ íƒí•œ ê¸°ê°„ì— ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }

            // í†µê³„ ê³„ì‚°
            const totalReviews = checklists.reduce((sum, c) => sum + (c.naverReviews || 0), 0);
            const totalPosts = checklists.reduce((sum, c) => sum + (c.naverPosts || 0), 0);
            const totalExperience = checklists.reduce((sum, c) => sum + (c.naverExperience || 0), 0);
            const totalReels = checklists.reduce((sum, c) => sum + (c.instaReels || 0), 0);
            const totalPhotos = checklists.reduce((sum, c) => sum + (c.instaPhotos || 0), 0);

            const avgReviews = (totalReviews / checklists.length).toFixed(1);
            const avgPosts = (totalPosts / checklists.length).toFixed(1);
            const avgExperience = (totalExperience / checklists.length).toFixed(1);
            const avgReels = (totalReels / checklists.length).toFixed(1);
            const avgPhotos = (totalPhotos / checklists.length).toFixed(1);

            const historyHtml = `
                <div class="mb-6">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <span style="font-size: 2rem; margin-right: 1rem;">ğŸ‘¤</span>
                        <div>
                            <h3 class="text-lg font-bold">${designer.name}ë‹˜ì˜ í™œë™ íˆìŠ¤í† ë¦¬</h3>
                            <p style="color: #6b7280; font-size: 0.875rem;">${designer.branch} â€¢ ${designer.position}</p>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div style="background-color: #f0f9ff; padding: 1rem; border-radius: 8px;">
                        <h4 class="font-bold mb-3" style="color: #0369a1;">
                            ğŸ“Š ì´ í™œë™ëŸ‰
                        </h4>
                        <div style="display: grid; gap: 0.5rem; font-size: 0.875rem;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>â­ ë¦¬ë·°</span>
                                <span class="font-medium">${totalReviews}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ“ í¬ìŠ¤íŒ…</span>
                                <span class="font-medium">${totalPosts}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ¯ ì²´í—˜ë‹¨</span>
                                <span class="font-medium">${totalExperience}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ¬ ë¦´ìŠ¤</span>
                                <span class="font-medium">${totalReels}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ“· ì‚¬ì§„</span>
                                <span class="font-medium">${totalPhotos}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background-color: #f0fdf4; padding: 1rem; border-radius: 8px;">
                        <h4 class="font-bold mb-3" style="color: #166534;">
                            ğŸ§® ì¼ì¼ í‰ê· 
                        </h4>
                        <div style="display: grid; gap: 0.5rem; font-size: 0.875rem;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>â­ ë¦¬ë·°</span>
                                <span class="font-medium">${avgReviews}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ“ í¬ìŠ¤íŒ…</span>
                                <span class="font-medium">${avgPosts}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ¯ ì²´í—˜ë‹¨</span>
                                <span class="font-medium">${avgExperience}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ¬ ë¦´ìŠ¤</span>
                                <span class="font-medium">${avgReels}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>ğŸ“· ì‚¬ì§„</span>
                                <span class="font-medium">${avgPhotos}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden;">
                    <div style="background-color: #f8fafc; padding: 1rem; border-bottom: 1px solid #e5e7eb;">
                        <h4 class="font-bold">ğŸ“‹ ìµœê·¼ í™œë™ ê¸°ë¡</h4>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="table">
                            <thead style="background-color: #f8fafc;">
                                <tr>
                                    <th style="font-size: 0.75rem;">ë‚ ì§œ</th>
                                    <th style="font-size: 0.75rem;">ë¦¬ë·°</th>
                                    <th style="font-size: 0.75rem;">í¬ìŠ¤íŒ…</th>
                                    <th style="font-size: 0.75rem;">ì²´í—˜ë‹¨</th>
                                    <th style="font-size: 0.75rem;">ë¦´ìŠ¤</th>
                                    <th style="font-size: 0.75rem;">ì‚¬ì§„</th>
                                    <th style="font-size: 0.75rem;">í•©ê³„</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${checklists.slice(-10).reverse().map(c => {
                                    const daily = (c.naverReviews || 0) + (c.naverPosts || 0) + (c.naverExperience || 0) + (c.instaReels || 0) + (c.instaPhotos || 0);
                                    return `
                                        <tr>
                                            <td class="font-medium" style="font-size: 0.875rem;">${c.date}</td>
                                            <td style="font-size: 0.875rem;">${c.naverReviews || 0}</td>
                                            <td style="font-size: 0.875rem;">${c.naverPosts || 0}</td>
                                            <td style="font-size: 0.875rem;">${c.naverExperience || 0}</td>
                                            <td style="font-size: 0.875rem;">${c.instaReels || 0}</td>
                                            <td style="font-size: 0.875rem;">${c.instaPhotos || 0}</td>
                                            <td class="font-bold" style="color: #6366f1; font-size: 0.875rem;">${daily}</td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;

            document.getElementById('historyContent').innerHTML = historyHtml;
        }

        // ì§€ì  ê´€ë¦¬ ë¡œë“œ
        function loadBranches() {
            const branches = window.cachedData.branches;
            const designers = window.cachedData.designers;

            const tbody = document.getElementById('branchesList');
            tbody.innerHTML = branches.map(branch => {
                const designerCount = designers.filter(d => d.branch === branch.name).length;
                return `
                    <tr style="border-bottom: 1px solid #e5e7eb;">
                        <td class="font-medium">${branch.name}</td>
                        <td>
                            <span class="badge badge-gray">${branch.code}</span>
                        </td>
                        <td>${branch.address}</td>
                        <td>
                            <span class="badge badge-blue">${designerCount}ëª…</span>
                        </td>
                        <td>${branch.createdAt}</td>
                        <td>
                            <button onclick="editBranch('${branch.docId}')" class="btn" style="padding: 0.25rem 0.5rem; font-size: 0.75rem; margin-right: 0.25rem;">
                                âœï¸
                            </button>
                            <button onclick="deleteBranch('${branch.docId}')" class="btn btn-red" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">
                                ğŸ—‘ï¸
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¡œë“œ
        function loadChecklist() {
            const designers = window.cachedData.designers;
            const userBranch = currentUser && currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredDesigners = userBranch ? 
                designers.filter(d => d.branch === userBranch) : designers;

            const select = document.getElementById('checklistDesigner');
            select.innerHTML = '<option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>' +
                filteredDesigners.map(d => `
                    <option value="${d.id}">
                        ${d.name} (${d.branch} - ${d.position})
                    </option>
                `).join('');

            // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
            document.getElementById('checklistDate').value = new Date().toISOString().split('T')[0];

            // ë””ìì´ë„ˆ ì„ íƒ ì‹œ ì •ë³´ í‘œì‹œ
            select.addEventListener('change', function() {
                if (this.value) {
                    loadSelectedDesignerInfo(this.value);
                } else {
                    document.getElementById('selectedDesignerInfo').innerHTML = `
                        <div class="text-center" style="padding: 3rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">â„¹ï¸</div>
                            <p style="color: #6b7280;">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                        </div>
                    `;
                }
            });
        }

        // ì„ íƒëœ ë””ìì´ë„ˆ ì •ë³´ ë¡œë“œ
        function loadSelectedDesignerInfo(designerId) {
            const designer = window.cachedData.designers.find(d => d.id == designerId);
            if (!designer) return;

            const recentChecklists = window.cachedData.checklists
                .filter(c => c.designerId == designerId)
                .slice(-5)
                .reverse();

            const infoHtml = `
                <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                    <span style="font-size: 2rem; margin-right: 1rem;">ğŸ‘¤</span>
                    <div>
                        <h4 class="font-bold">${designer.name}</h4>
                        <p style="color: #6b7280; font-size: 0.875rem;">${designer.branch} â€¢ ${designer.position}</p>
                        <p style="color: #6b7280; font-size: 0.875rem;">${designer.phone}</p>
                    </div>
                </div>

                <div style="background-color: #f8fafc; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                    <h5 class="font-bold mb-2">ğŸ“Š ìµœê·¼ 5ì¼ í™œë™</h5>
                    ${recentChecklists.length > 0 ? `
                        <div style="font-size: 0.875rem;">
                            ${recentChecklists.map(c => `
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <span>${c.date}</span>
                                    <span>ì´ ${(c.naverReviews || 0) + (c.naverPosts || 0) + (c.naverExperience || 0) + (c.instaReels || 0) + (c.instaPhotos || 0)}ê±´</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : `
                        <p style="color: #6b7280; font-size: 0.875rem;">ìµœê·¼ í™œë™ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    `}
                </div>
            `;

            document.getElementById('selectedDesignerInfo').innerHTML = infoHtml;
        }

        // í†µê³„ ë¶„ì„ ë¡œë“œ
        function loadStatistics() {
            // ì§€ì  ì˜µì…˜ ë¡œë“œ (ê´€ë¦¬ìë§Œ)
            if (currentUser && currentUser.role === 'admin') {
                const branches = window.cachedData.branches;
                const select = document.getElementById('statisticsBranch');
                if (select) {
                    select.innerHTML = '<option value="">ì „ì²´ ì§€ì </option>' +
                        branches.map(b => `<option value="${b.name}">${b.name}</option>`).join('');
                }
            }

            // ê¸°ê°„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const periodSelect = document.getElementById('statisticsPeriod');
            periodSelect.addEventListener('change', function() {
                const customRange = document.getElementById('customDateRange');
                if (this.value === 'custom') {
                    customRange.classList.remove('hidden');
                } else {
                    customRange.classList.add('hidden');
                }
            });

            updateStatisticsChart();
        }

        // í†µê³„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateStatisticsChart() {
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ë¡œì§ êµ¬í˜„ ì˜ˆì •
        }

        // ì§€ì  ë¹„êµ ë¡œë“œ
        function loadComparison() {
            const branches = window.cachedData.branches;
            
            // ì§€ì  ì²´í¬ë°•ìŠ¤ ìƒì„±
            const container = document.getElementById('branchCheckboxes');
            container.innerHTML = branches.map(branch => `
                <label style="display: flex; align-items: center; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 6px;">
                    <input type="checkbox" class="branch-checkbox" value="${branch.name}" style="margin-right: 0.75rem;"> 
                    <div>
                        <div class="font-medium">${branch.name}</div>
                        <div style="color: #6b7280; font-size: 0.75rem;">${branch.code}</div>
                    </div>
                </label>
            `).join('');

            // ì „ì§€ì  ì„ íƒ ê¸°ëŠ¥
            document.getElementById('selectAllBranches').addEventListener('change', function() {
                const checkboxes = document.querySelectorAll('.branch-checkbox');
                checkboxes.forEach(cb => cb.checked = this.checked);
                updateComparisonCharts();
            });

            // ê¸°ê°„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const periodSelect = document.getElementById('comparisonPeriod');
            periodSelect.addEventListener('change', function() {
                const customRange = document.getElementById('comparisonCustomDateRange');
                if (this.value === 'custom') {
                    customRange.classList.remove('hidden');
                } else {
                    customRange.classList.add('hidden');
                }
            });

            updateComparisonCharts();
        }

        // ë¹„êµ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateComparisonCharts() {
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ë¡œì§ êµ¬í˜„ ì˜ˆì •
        }

        // ì§€ì  ì˜µì…˜ ë¡œë“œ
        function loadBranchOptions() {
            const branches = window.cachedData.branches;
            const userBranch = currentUser && currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredBranches = userBranch ? 
                branches.filter(b => b.name === userBranch) : branches;

            const select = document.getElementById('designerBranch');
            if (select) {
                select.innerHTML = '<option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>' +
                    filteredBranches.map(b => `<option value="${b.name}">${b.name}</option>`).join('');
            }

            // ë””ìì´ë„ˆ ê´€ë¦¬ì˜ ì§€ì  í•„í„°
            const filterSelect = document.getElementById('designerBranchFilter');
            if (filterSelect && currentUser && currentUser.role === 'admin') {
                filterSelect.innerHTML = '<option value="">ì „ì²´ ì§€ì </option>' +
                    branches.map(b => `<option value="${b.name}">${b.name}</option>`).join('');
            }
        }

        // ëª¨ë‹¬ ê´€ë¦¬
        function showAddDesigner() {
            loadBranchOptions();
            document.getElementById('addDesignerModal').classList.remove('hidden');
        }

        function hideAddDesigner() {
            document.getElementById('addDesignerModal').classList.add('hidden');
            document.getElementById('addDesignerForm').reset();
        }

        function showAddBranch() {
            document.getElementById('addBranchModal').classList.remove('hidden');
        }

        function hideAddBranch() {
            document.getElementById('addBranchModal').classList.add('hidden');
            document.getElementById('addBranchForm').reset();
        }

        function showEditBranch(branch) {
            document.getElementById('editBranchId').value = branch.docId;
            document.getElementById('editBranchName').value = branch.name;
            document.getElementById('editBranchCode').value = branch.code;
            document.getElementById('editBranchAddress').value = branch.address;
            document.getElementById('editBranchModal').classList.remove('hidden');
        }

        function hideEditBranch() {
            document.getElementById('editBranchModal').classList.add('hidden');
            document.getElementById('editBranchForm').reset();
        }

        // í¸ì§‘/ì‚­ì œ í•¨ìˆ˜ë“¤
        function editBranch(docId) {
            const branch = window.cachedData.branches.find(b => b.docId === docId);
            if (branch) {
                showEditBranch(branch);
            }
        }

        function editDesigner(docId) {
            showNotification('ë””ìì´ë„ˆ í¸ì§‘ ê¸°ëŠ¥ì€ ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •ì…ë‹ˆë‹¤.', 'info');
        }

        async function deleteDesigner(docId) {
            if (confirm('ì •ë§ë¡œ ì´ ë””ìì´ë„ˆë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                try {
                    await window.dataManager.deleteDesigner(docId);
                    showNotification('ë””ìì´ë„ˆê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                } catch (error) {
                    console.error('ë””ìì´ë„ˆ ì‚­ì œ ì˜¤ë¥˜:', error);
                    showNotification('ë””ìì´ë„ˆ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
                }
            }
        }

        async function deleteBranch(docId) {
            const branch = window.cachedData.branches.find(b => b.docId === docId);
            if (confirm(`ì •ë§ë¡œ "${branch.name}" ì§€ì ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nê´€ë ¨ëœ ëª¨ë“  ë””ìì´ë„ˆì™€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.`)) {
                try {
                    await window.dataManager.deleteBranch(docId);
                    showNotification('ì§€ì ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                } catch (error) {
                    console.error('ì§€ì  ì‚­ì œ ì˜¤ë¥˜:', error);
                    showNotification('ì§€ì  ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
                }
            }
        }

        // í¼ ì œì¶œ ì²˜ë¦¬
        document.getElementById('addDesignerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                const designer = {
                    id: Date.now(), // ì„ì‹œ ID
                    name: document.getElementById('designerName').value,
                    branch: document.getElementById('designerBranch').value,
                    position: document.getElementById('designerPosition').value,
                    phone: document.getElementById('designerPhone').value
                };

                await window.dataManager.addDesigner(designer);
                hideAddDesigner();
                showNotification('ë””ìì´ë„ˆê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            } catch (error) {
                console.error('ë””ìì´ë„ˆ ì¶”ê°€ ì˜¤ë¥˜:', error);
                showNotification('ë””ìì´ë„ˆ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        });

        document.getElementById('addBranchForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                const branch = {
                    id: Date.now(), // ì„ì‹œ ID
                    name: document.getElementById('branchName').value,
                    code: document.getElementById('branchCode').value,
                    address: document.getElementById('branchAddress').value
                };

                await window.dataManager.addBranch(branch);
                hideAddBranch();
                showNotification('ì§€ì ì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            } catch (error) {
                console.error('ì§€ì  ì¶”ê°€ ì˜¤ë¥˜:', error);
                showNotification('ì§€ì  ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        });

        document.getElementById('editBranchForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                const docId = document.getElementById('editBranchId').value;
                const branch = {
                    name: document.getElementById('editBranchName').value,
                    code: document.getElementById('editBranchCode').value,
                    address: document.getElementById('editBranchAddress').value
                };

                await window.dataManager.updateBranch(docId, branch);
                hideEditBranch();
                showNotification('ì§€ì ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            } catch (error) {
                console.error('ì§€ì  ìˆ˜ì • ì˜¤ë¥˜:', error);
                showNotification('ì§€ì  ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        });

        document.getElementById('checklistForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                const designerId = document.getElementById('checklistDesigner').value;
                const designer = window.cachedData.designers.find(d => d.id == designerId);
                
                const checklist = {
                    designerId: parseInt(designerId),
                    designer: designer.name,
                    branch: designer.branch,
                    date: document.getElementById('checklistDate').value,
                    naverReviews: parseInt(document.getElementById('naverReviews').value) || 0,
                    naverPosts: parseInt(document.getElementById('naverPosts').value) || 0,
                    naverExperience: parseInt(document.getElementById('naverExperience').value) || 0,
                    instaReels: parseInt(document.getElementById('instaReels').value) || 0,
                    instaPhotos: parseInt(document.getElementById('instaPhotos').value) || 0
                };

                await window.dataManager.addChecklist(checklist);
                
                // í¼ ë¦¬ì…‹ (ë””ìì´ë„ˆ ì„ íƒê³¼ ë‚ ì§œ ì œì™¸)
                ['naverReviews', 'naverPosts', 'naverExperience', 'instaReels', 'instaPhotos'].forEach(id => {
                    document.getElementById(id).value = '0';
                });
                
                loadSelectedDesignerInfo(designerId);
                showNotification('ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            } catch (error) {
                console.error('ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ ì˜¤ë¥˜:', error);
                showNotification('ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        });

        // ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 1rem;
                right: 1rem;
                z-index: 9999;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                ${type === 'success' ? 'background-color: #10b981;' : 
                  type === 'error' ? 'background-color: #ef4444;' : 'background-color: #6366f1;'}
            `;
            notification.innerHTML = `
                <div style="display: flex; align-items: center;">
                    <span style="margin-right: 0.5rem;">${type === 'success' ? 'âœ…' : type === 'error' ? 'âš ï¸' : 'â„¹ï¸'}</span>
                    ${message}
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°
        function exportData() {
            const data = {
                branches: window.cachedData.branches,
                designers: window.cachedData.designers,
                checklists: window.cachedData.checklists
            };
            
            const jsonData = JSON.stringify(data, null, 2);
            const blob = new Blob([jsonData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `gohair_firebase_backup_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸° ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        function importData() {
            document.getElementById('fileInput').click();
        }

        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        // Firebase ê°€ì ¸ì˜¤ê¸° ë¡œì§ êµ¬í˜„ ì˜ˆì •
                        showNotification('ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ê¸°ëŠ¥ì€ ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •ì…ë‹ˆë‹¤.', 'info');
                    } catch (error) {
                        showNotification('ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                    }
                };
                reader.readAsText(file);
            }
        });
    </script>


    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDtGLk3CfXwbqGbGT4joXPS9UJe0csTv63UIX3q2k1P9sx5mo0jfdn6h0GScu1UtPg3Sy4EwwvqraSufSdVPhIIWMaTNnhia%2FRecer%2BEMYbDSXgwdpKCcaU4A9T5qaRUkDTDGNqAHhSXxRda4kpPyVxR%2F0w0wfoDypi4GM2ndqWvItUEPfnpB90pb0lbRLOdryOtfdqDps11vbHUu49mk9RRzyq4AmCz1814pKLEBJcnQRrwOS3Xtm%2BbkivpN8r5MsAaXdPHAqPFueVIDRHZ51kQDEhyTGSrEXrXtMvoH9t%2BThSqy2WaQY4dmPpI0I0QE10d%2FwMZx3G5YT9%2BcEYIZ%2BTXB%2F3JnW5n9tSfFwb80ZVxxEzt2CNqTSta%2FgG7nvgQZPdG3XMsxJkcV4ibRWqyvz9bCq7qL9pJ6rgk6zzq4CSDoX7fzj5r3%2FlRO%2Bst%2BY%2BVZqvrwafbU52s6ZWdUHqq9oqSTYh6oj161Lw2NohJlK0b1xzv2RfqAs2cwfZNrn7o4nOtQmygirZo3Y7k1flOc5qM%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDtGLk3CfXwbqGbGT4joXPS9UJe0csTv63UIX3q2k1P9sx5mo0jfdn6h0GScu1UtPg3Sy4EwwvqraSufSdVPhIIWMaTNnhia/Recer+EMYbDSXgwdpKCcaU4A9T5qaRUkDTDGNqAHhSXxRda4kpPyVxR/0w0wfoDypi4GM2ndqWvItUEPfnpB90pb0lbRLOdryOtfdqDps11vbHUu49mk9RRzyq4AmCz1814pKLEBJcnQRrwOS3Xtm+bkivpN8r5MsAaXdPHAqPFueVIDRHZ51kQDEhyTGSrEXrXtMvoH9t+ThSqy2WaQY4dmPpI0I0QE10d/wMZx3G5YT9+cEYIZ+TXB/3JnW5n9tSfFwb80ZVxxEzt2CNqTSta/gG7nvgQZPdG3XMsxJkcV4ibRWqyvz9bCq7qL9pJ6rgk6zzq4CSDoX7fzj5r3/lRO+st+Y+VZqvrwafbU52s6ZWdUHqq9oqSTYh6oj161Lw2NohJlK0b1xzv2RfqAs2cwfZNrn7o4nOtQmygirZo3Y7k1flOc5qM=";
    </script>
    
    <script id="html_notice_dialog_script" src="./index_files/notice_dialog.js.ë‹¤ìš´ë¡œë“œ"></script>
    </body></html>