<!DOCTYPE html>
<!-- saved from url=(0035)https://cohfcobp.gensparkspace.com/ -->
<html lang="ko"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <link href="./index_files/tailwind.min.css" rel="stylesheet">
    <script src="./index_files/chart.js.ë‹¤ìš´ë¡œë“œ"></script>
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        .chart-container { position: relative; height: 300px; width: 100%; }
        .emoji-icon { font-size: 16px; margin-right: 8px; display: inline-block; }
        .large-emoji { font-size: 32px; }
        .medium-emoji { font-size: 20px; }
        
        /* ëª¨ë°”ì¼ í…Œì´ë¸” ìµœì í™” */
        .table-mobile-scroll {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
        }
        
        .table-mobile-scroll::-webkit-scrollbar {
            height: 8px;
        }
        
        .table-mobile-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .table-mobile-scroll::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        .table-mobile-scroll::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        @media (max-width: 768px) {
            .table-mobile-scroll table {
                min-width: 700px;
            }
            
            .table-mobile-scroll th,
            .table-mobile-scroll td {
                white-space: nowrap;
                padding: 8px 12px;
            }
            
            .nav-mobile {
                flex-direction: column;
                gap: 8px;
            }
            
            .nav-mobile button {
                width: 100%;
                justify-content: flex-start;
            }
        }
    </style>
<style>
    .genspark-notice-dialog {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 10001;
      align-items: center;
      justify-content: center;
    }

    .genspark-notice-content {
      background-color: white;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
      box-sizing: border-box;
      padding: 10px 30px 30px 30px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      font-size: 16px;
    }

    .genspark-notice-title {
      color: #000;
      font-family: Arial;
      font-size: 20px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%; 
    }

    .genspark-notice-list {
      margin: 24px 0;
      
      color: #606366;
      font-family: Arial;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 150%;
      padding-left: 12px;
    }

    .genspark-notice-list li {
      margin-bottom: 12px;
      list-style-type: disc;
    }

    .genspark-notice-list li a {
      color: #606366;
      text-decoration: underline;
    }

    .genspark-notice-checkbox {
      display: flex;
      align-items: center;
      margin-top: 20px;
      gap: 10px;

      color: #232425;

      font-family: Arial;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: normal;
    }

    .genspark-notice-actions {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
      
    .genspark-notice-ok {
      color: #232425;

      text-align: center;
      font-family: Arial;
      font-size: 16px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%; 

      cursor: pointer;
      display: flex;
      height: 40px;
      padding: 6px 14px;
      justify-content: center;
      align-items: center;
      gap: 10px;
      align-self: stretch;
      border-radius: 8px;
      border: 1px solid #000;
      box-sizing: border-box;
      width: 100%;
    }
  </style></head>
<body class="bg-gray-50">
    <!-- ë¡œê·¸ì¸ í˜ì´ì§€ -->
    <div id="loginPage" class="min-h-screen flex items-center justify-center">
        <div class="max-w-md w-full bg-white rounded-lg shadow-md p-8">
            <div class="text-center mb-8">
                <div class="text-4xl mb-4">
                    <span class="large-emoji">âœ‚ï¸</span>
                </div>
                <h1 class="text-2xl font-bold text-purple-600">GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
                <p class="text-gray-600 mt-2">SNS ë¦¬ë” ë¡œê·¸ì¸</p>
            </div>
            <form id="loginForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        <span class="emoji-icon">ğŸ“§</span>ì´ë©”ì¼
                    </label>
                    <input type="email" id="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500" required="">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        <span class="emoji-icon">ğŸ”’</span>ë¹„ë°€ë²ˆí˜¸
                    </label>
                    <input type="password" id="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500" required="">
                </div>
                <button type="submit" class="w-full gradient-bg text-white font-bold py-2 px-4 rounded-md hover:opacity-90 transition duration-200">
                    <span class="emoji-icon">ğŸ”‘</span>ë¡œê·¸ì¸
                </button>
            </form>
            <div class="text-center mt-4">
                <a href="https://cohfcobp.gensparkspace.com/#" onclick="showSignupPage(); return false;" class="text-purple-600 hover:text-purple-800 text-sm">SNS ë¦¬ë”ë¡œ ê°€ì…í•˜ê¸°</a>
            </div>
        </div>
    </div>

    <!-- íšŒì›ê°€ì… í˜ì´ì§€ -->
    <div id="signupPage" class="min-h-screen flex items-center justify-center hidden">
        <div class="max-w-md w-full bg-white rounded-lg shadow-md p-8">
            <div class="text-center mb-8">
                <div class="text-4xl mb-4">
                    <span class="large-emoji">ğŸ‘¤</span>
                </div>
                <h1 class="text-2xl font-bold text-purple-600">SNS ë¦¬ë” ê°€ì…</h1>
                <p class="text-gray-600 mt-2">ìƒˆë¡œìš´ SNS ë¦¬ë” ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤</p>
            </div>
            <form id="signupForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        <span class="emoji-icon">ğŸ‘¤</span>ì´ë¦„
                    </label>
                    <input type="text" id="signupName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500" required="">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        <span class="emoji-icon">ğŸ“§</span>ì´ë©”ì¼
                    </label>
                    <input type="email" id="signupEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500" required="">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        <span class="emoji-icon">ğŸ”’</span>ë¹„ë°€ë²ˆí˜¸
                    </label>
                    <input type="password" id="signupPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500" required="">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        <span class="emoji-icon">ğŸ¢</span>ì§€ì  ì„ íƒ
                    </label>
                    <select id="signupBranch" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500" required="">
                        <option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ì†¡ë„1ì§€ì ">ì†¡ë„1ì§€ì </option>
                        <option value="ê²€ë‹¨í…Œë¼ìŠ¤ì ">ê²€ë‹¨í…Œë¼ìŠ¤ì </option>
                        <option value="ë¶€í‰ì ">ë¶€í‰ì </option>
                        <option value="ì¸ì²œì ">ì¸ì²œì </option>
                        <option value="ê¹€í¬ì ">ê¹€í¬ì </option>
                    </select>
                </div>
                <button type="submit" class="w-full gradient-bg text-white font-bold py-2 px-4 rounded-md hover:opacity-90 transition duration-200">
                    <span class="emoji-icon">âœ…</span>ê°€ì…í•˜ê¸°
                </button>
            </form>
            <div class="text-center mt-4">
                <a href="https://cohfcobp.gensparkspace.com/#" onclick="showLoginPage(); return false;" class="text-purple-600 hover:text-purple-800 text-sm">ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸í•˜ê¸°</a>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì‹œìŠ¤í…œ -->
    <div id="mainSystem" class="hidden">
        <!-- í—¤ë” -->
        <header class="gradient-bg text-white shadow-lg">
            <div class="container mx-auto px-4 py-4">
                <div class="flex justify-between items-center">
                    <h1 class="text-xl font-bold">
                        <span class="emoji-icon">âœ‚ï¸</span>GOHAIR SNS ë§ˆì¼€íŒ… ê´€ë¦¬ ì‹œìŠ¤í…œ
                    </h1>
                    <div class="flex space-x-2">
                        <button onclick="exportData()" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm">
                            <span class="emoji-icon">ğŸ“¥</span>ë°ì´í„° ë‚´ë³´ë‚´ê¸°
                        </button>
                        <button onclick="importData()" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm">
                            <span class="emoji-icon">ğŸ“¤</span>ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                        </button>
                        <span id="currentUser" class="text-sm opacity-90 px-2 py-1"></span>
                        <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                            <span class="emoji-icon">ğŸšª</span>ë¡œê·¸ì•„ì›ƒ
                        </button>
                    </div>
                </div>
                <nav class="mt-4">
                    <div class="flex flex-wrap gap-2 nav-mobile">
                        <button onclick="showPage(&#39;dashboard&#39;)" class="nav-btn bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">ğŸ </span>ëŒ€ì‹œë³´ë“œ
                        </button>
                        <button onclick="showPage(&#39;designers&#39;)" class="nav-btn bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">ğŸ‘¥</span>ë””ìì´ë„ˆ ê´€ë¦¬
                        </button>
                        <button onclick="showPage(&#39;branches&#39;)" class="nav-btn admin-only hidden bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">ğŸ¢</span>ì§€ì  ê´€ë¦¬
                        </button>
                        <button onclick="showPage(&#39;designerHistory&#39;)" class="nav-btn bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">ğŸ“ˆ</span>ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬
                        </button>
                        <button onclick="showPage(&#39;checklist&#39;)" class="nav-btn bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">ğŸ“‹</span>ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥
                        </button>
                        <button onclick="showPage(&#39;statistics&#39;)" class="nav-btn bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">ğŸ“Š</span>í†µê³„ ë¶„ì„
                        </button>
                        <button onclick="showPage(&#39;comparison&#39;)" class="nav-btn bg-white bg-opacity-20 text-white px-4 py-2 rounded hover:bg-opacity-30 transition">
                            <span class="emoji-icon">âš–ï¸</span>ì§€ì  ë¹„êµ
                        </button>
                    </div>
                </nav>
            </div>
        </header>

        <main class="container mx-auto px-4 py-8">
            <!-- ëŒ€ì‹œë³´ë“œ -->
            <div id="dashboardPage">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">ğŸ </span>ëŒ€ì‹œë³´ë“œ
                    </h2>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8">
                    <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-3xl font-bold" id="totalReviews">0</div>
                                <div class="text-green-100">ë„¤ì´ë²„ ë¦¬ë·°</div>
                            </div>
                            <div class="text-4xl opacity-80">â­</div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-3xl font-bold" id="totalPosts">0</div>
                                <div class="text-green-100">ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…</div>
                            </div>
                            <div class="text-4xl opacity-80">ğŸ“</div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-3xl font-bold" id="totalExperience">0</div>
                                <div class="text-yellow-100">ì²´í—˜ë‹¨ ìš´ì˜</div>
                            </div>
                            <div class="text-4xl opacity-80">ğŸ¯</div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-3xl font-bold" id="totalReels">0</div>
                                <div class="text-pink-100">ì¸ìŠ¤íƒ€ ë¦´ìŠ¤</div>
                            </div>
                            <div class="text-4xl opacity-80">ğŸ¬</div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-pink-600 to-pink-700 text-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-3xl font-bold" id="totalPhotos">0</div>
                                <div class="text-pink-100">ì¸ìŠ¤íƒ€ ì‚¬ì§„</div>
                            </div>
                            <div class="text-4xl opacity-80">ğŸ“·</div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">ì§€ì ë³„ ì„±ê³¼ ìˆœìœ„</h3>
                        <button onclick="loadDashboard()" class="text-blue-600 hover:text-blue-800">
                            <span class="emoji-icon">ğŸ”„</span>ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                    <div class="table-mobile-scroll">
                        <table class="min-w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-2 text-left">ìˆœìœ„</th>
                                    <th class="px-4 py-2 text-left">ì§€ì </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortTable(&#39;reviews&#39;)">
                                        <span class="emoji-icon">â­</span>ë¦¬ë·° <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortTable(&#39;posts&#39;)">
                                        <span class="emoji-icon">ğŸ“</span>í¬ìŠ¤íŒ… <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortTable(&#39;experience&#39;)">
                                        <span class="emoji-icon">ğŸ¯</span>ì²´í—˜ë‹¨ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortTable(&#39;reels&#39;)">
                                        <span class="emoji-icon">ğŸ¬</span>ë¦´ìŠ¤ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortTable(&#39;photos&#39;)">
                                        <span class="emoji-icon">ğŸ“·</span>ì‚¬ì§„ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortTable(&#39;total&#39;)">
                                        ì´í•© <span class="text-xs">ğŸ”€</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="branchRankings">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ë””ìì´ë„ˆ ê´€ë¦¬ -->
            <div id="designersPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">ğŸ‘¥</span>ë””ìì´ë„ˆ ê´€ë¦¬
                    </h2>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">ë“±ë¡ëœ ë””ìì´ë„ˆ</h3>
                        <button onclick="showAddDesigner()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                            <span class="emoji-icon">â•</span>ìƒˆ ë””ìì´ë„ˆ ì¶”ê°€
                        </button>
                    </div>
                    
                    <div class="admin-only hidden mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ì§€ì  í•„í„°</label>
                        <select id="designerBranchFilter" class="px-3 py-2 border border-gray-300 rounded-md">
                            <option value="">ì „ì²´ ì§€ì </option>
                        </select>
                    </div>

                    <div class="table-mobile-scroll">
                        <table class="min-w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortDesigners(&#39;name&#39;)">
                                        ì´ë¦„ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortDesigners(&#39;branch&#39;)">
                                        ì§€ì  <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortDesigners(&#39;position&#39;)">
                                        ì§ê¸‰ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left">ì „í™”ë²ˆí˜¸</th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortDesigners(&#39;createdAt&#39;)">
                                        ë“±ë¡ì¼ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left cursor-pointer hover:bg-gray-100" onclick="sortDesigners(&#39;activity&#39;)">
                                        ì´ í™œë™ëŸ‰ <span class="text-xs">ğŸ”€</span>
                                    </th>
                                    <th class="px-4 py-2 text-left">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="designersList">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ë””ìì´ë„ˆ ì¶”ê°€ ëª¨ë‹¬ -->
                <div id="addDesignerModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
                    <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold">
                                <span class="emoji-icon">ğŸ‘¤</span>ìƒˆ ë””ìì´ë„ˆ ì¶”ê°€
                            </h3>
                            <button onclick="hideAddDesigner()" class="text-gray-400 hover:text-gray-600">
                                <span class="medium-emoji">âŒ</span>
                            </button>
                        </div>
                        <form id="addDesignerForm">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸ‘¤</span>ì´ë¦„
                                </label>
                                <input type="text" id="designerName" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸ¢</span>ì§€ì 
                                </label>
                                <select id="designerBranch" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                                    <option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸ·ï¸</span>ì§ê¸‰
                                </label>
                                <select id="designerPosition" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                                    <option value="">ì§ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”</option>
                                    <option value="ì¸í„´">ì¸í„´</option>
                                    <option value="ë””ìì´ë„ˆ">ë””ìì´ë„ˆ</option>
                                    <option value="íŒ€ì¥">íŒ€ì¥</option>
                                    <option value="ì‹¤ì¥">ì‹¤ì¥</option>
                                    <option value="ë¶€ì›ì¥">ë¶€ì›ì¥</option>
                                    <option value="ì›ì¥">ì›ì¥</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸ“</span>ì „í™”ë²ˆí˜¸
                                </label>
                                <input type="tel" id="designerPhone" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                            </div>
                            <div class="flex justify-end space-x-2">
                                <button type="button" onclick="hideAddDesigner()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">
                                    <span class="emoji-icon">âŒ</span>ì·¨ì†Œ
                                </button>
                                <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                                    <span class="emoji-icon">â•</span>ì¶”ê°€
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ì§€ì  ê´€ë¦¬ -->
            <div id="branchesPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">ğŸ¢</span>ì§€ì  ê´€ë¦¬
                    </h2>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">ë“±ë¡ëœ ì§€ì </h3>
                        <button onclick="showAddBranch()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                            <span class="emoji-icon">â•</span>ìƒˆ ì§€ì  ì¶”ê°€
                        </button>
                    </div>
                    
                    <div class="table-mobile-scroll">
                        <table class="min-w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-2 text-left">ì§€ì ëª…</th>
                                    <th class="px-4 py-2 text-left">ì§€ì ì½”ë“œ</th>
                                    <th class="px-4 py-2 text-left">ì£¼ì†Œ</th>
                                    <th class="px-4 py-2 text-left">ë””ìì´ë„ˆ ìˆ˜</th>
                                    <th class="px-4 py-2 text-left">ë“±ë¡ì¼</th>
                                    <th class="px-4 py-2 text-left">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="branchesList">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ì§€ì  ì¶”ê°€ ëª¨ë‹¬ -->
                <div id="addBranchModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
                    <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold">
                                <span class="emoji-icon">ğŸ¢</span>ìƒˆ ì§€ì  ì¶”ê°€
                            </h3>
                            <button onclick="hideAddBranch()" class="text-gray-400 hover:text-gray-600">
                                <span class="medium-emoji">âŒ</span>
                            </button>
                        </div>
                        <form id="addBranchForm">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸª</span>ì§€ì ëª…
                                </label>
                                <input type="text" id="branchName" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸ·ï¸</span>ì§€ì ì½”ë“œ
                                </label>
                                <input type="text" id="branchCode" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">
                                    <span class="emoji-icon">ğŸ“</span>ì£¼ì†Œ
                                </label>
                                <input type="text" id="branchAddress" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                            </div>
                            <div class="flex justify-end space-x-2">
                                <button type="button" onclick="hideAddBranch()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">
                                    <span class="emoji-icon">âŒ</span>ì·¨ì†Œ
                                </button>
                                <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                                    <span class="emoji-icon">â•</span>ì¶”ê°€
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬ -->
            <div id="designerHistoryPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">ğŸ“ˆ</span>ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬
                    </h2>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            <span class="emoji-icon">ğŸ‘¤</span>ë””ìì´ë„ˆ ì„ íƒ
                        </label>
                        <select id="historyDesignerSelect" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                            <option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                        </select>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <div id="selectedDesignerHistory">
                        <div class="text-center py-12">
                            <span class="large-emoji text-gray-300">ğŸ“ˆ</span>
                            <h3 class="text-lg font-medium text-gray-600 mb-2 mt-4">ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬</h3>
                            <p class="text-gray-500">ìœ„ì—ì„œ ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ ìƒì„¸í•œ í™œë™ íˆìŠ¤í† ë¦¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥ -->
            <div id="checklistPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">ğŸ“‹</span>ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥
                    </h2>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-bold mb-4">ì¼ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥</h3>
                    <form id="checklistForm">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div>
                                <div class="mb-4">
                                    <label class="block text-gray-700 text-sm font-bold mb-2">
                                        <span class="emoji-icon">ğŸ‘¤</span>ë””ìì´ë„ˆ ì„ íƒ
                                    </label>
                                    <select id="checklistDesigner" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                                        <option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                                    </select>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-gray-700 text-sm font-bold mb-2">
                                        <span class="emoji-icon">ğŸ“…</span>ë‚ ì§œ
                                    </label>
                                    <input type="date" id="checklistDate" class="w-full px-3 py-2 border border-gray-300 rounded-md" required="">
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="font-bold text-lg mb-3 text-green-600 border-b border-green-200 pb-2">
                                        <span class="emoji-icon">ğŸŸ¢</span>ë„¤ì´ë²„
                                    </h4>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                                <span class="emoji-icon">â­</span>ë¦¬ë·° ìˆ˜
                                            </label>
                                            <input type="number" id="naverReviews" class="w-full px-3 py-2 border border-gray-300 rounded-md" min="0" value="0">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                                <span class="emoji-icon">ğŸ“</span>ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìˆ˜
                                            </label>
                                            <input type="number" id="naverPosts" class="w-full px-3 py-2 border border-gray-300 rounded-md" min="0" value="0">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                                <span class="emoji-icon">ğŸ¯</span>ì²´í—˜ë‹¨ ìš´ì˜ ê±´ìˆ˜
                                            </label>
                                            <input type="number" id="naverExperience" class="w-full px-3 py-2 border border-gray-300 rounded-md" min="0" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="font-bold text-lg mb-3 text-pink-600 border-b border-pink-200 pb-2">
                                        <span class="emoji-icon">ğŸ“±</span>ì¸ìŠ¤íƒ€ê·¸ë¨
                                    </h4>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                                <span class="emoji-icon">ğŸ¬</span>ë¦´ìŠ¤ ê²Œì‹œ ìˆ˜
                                            </label>
                                            <input type="number" id="instaReels" class="w-full px-3 py-2 border border-gray-300 rounded-md" min="0" value="0">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                                <span class="emoji-icon">ğŸ“·</span>ì‚¬ì§„ ê²Œì‹œ ìˆ˜
                                            </label>
                                            <input type="number" id="instaPhotos" class="w-full px-3 py-2 border border-gray-300 rounded-md" min="0" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded">
                                    <span class="emoji-icon">ğŸš€</span>ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œì¶œ
                                </button>
                            </div>
                            
                            <div>
                                <h4 class="text-lg font-bold mb-4">
                                    <span class="emoji-icon">ğŸ“Š</span>ë¹ ë¥¸ í˜„í™© ë³´ê¸°
                                </h4>
                                <div id="checklistQuickView" class="text-gray-500">
                                    <div class="text-center py-8">
                                        <span class="large-emoji text-gray-300">â„¹ï¸</span>
                                        <p class="mt-4">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ ìµœê·¼ í™œë™ ìš”ì•½ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- í†µê³„ ë¶„ì„ -->
            <div id="statisticsPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">ğŸ“Š</span>í†µê³„ ë¶„ì„
                    </h2>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                <span class="emoji-icon">ğŸ“…</span>ê¸°ê°„ ì„ íƒ
                            </label>
                            <select id="statisticsPeriod" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                <option value="today">ì˜¤ëŠ˜</option>
                                <option value="week">ì´ë²ˆ ì£¼</option>
                                <option value="month">ì´ë²ˆ ë‹¬</option>
                                <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                            </select>
                        </div>
                        <div class="admin-only">
                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                <span class="emoji-icon">ğŸ¢</span>ì§€ì  ì„ íƒ
                            </label>
                            <select id="statisticsBranch" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                <option value="">ì „ì²´ ì§€ì </option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                <span class="emoji-icon">ğŸ·ï¸</span>ì¹´í…Œê³ ë¦¬
                            </label>
                            <select id="statisticsCategory" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                <option value="all">ì „ì²´</option>
                                <option value="reviews">ë„¤ì´ë²„ ë¦¬ë·°</option>
                                <option value="posts">ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…</option>
                                <option value="experience">ì²´í—˜ë‹¨</option>
                                <option value="reels">ì¸ìŠ¤íƒ€ ë¦´ìŠ¤</option>
                                <option value="photos">ì¸ìŠ¤íƒ€ ì‚¬ì§„</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">
                                <span class="emoji-icon">ğŸ”€</span>ì •ë ¬
                            </label>
                            <select id="statisticsSort" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                <option value="desc">ë†’ì€ ìˆœ</option>
                                <option value="asc">ë‚®ì€ ìˆœ</option>
                            </select>
                        </div>
                    </div>

                    <div id="customDateRange" class="hidden grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">ì‹œì‘ì¼</label>
                            <input type="date" id="startDate" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">ì¢…ë£Œì¼</label>
                            <input type="date" id="endDate" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        </div>
                    </div>

                    <div class="flex justify-end">
                        <button onclick="updateStatisticsChart()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                            <span class="emoji-icon">ğŸ”„</span>ë°ì´í„° ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-bold mb-4">ì°¨íŠ¸ ë¶„ì„</h3>
                        <div class="chart-container">
                            <canvas id="statisticsChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-bold mb-4">ìˆœìœ„ í…Œì´ë¸”</h3>
                        <div class="table-mobile-scroll" id="statisticsTable">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì§€ì  ë¹„êµ -->
            <div id="comparisonPage" class="hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <span class="emoji-icon">âš–ï¸</span>ì§€ì  ë¹„êµ ë¶„ì„
                    </h2>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div>
                            <h3 class="text-lg font-bold mb-4">ë¹„êµí•  ì§€ì  ì„ íƒ</h3>
                            <div class="mb-4">
                                <label class="flex items-center font-bold text-blue-600">
                                    <input type="checkbox" id="selectAllBranches" class="mr-2 w-4 h-4"> 
                                    <span class="emoji-icon">âœ…</span>ì „ì§€ì  ì„ íƒ
                                </label>
                            </div>
                            
                            <div class="grid grid-cols-1 gap-2" id="branchCheckboxes">
                                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                            </div>
                        </div>

                        <div>
                            <div class="grid grid-cols-1 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">
                                        <span class="emoji-icon">ğŸ“…</span>ë¹„êµ ê¸°ê°„
                                    </label>
                                    <select id="comparisonPeriod" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                        <option value="week">ì´ë²ˆ ì£¼</option>
                                        <option value="month">ì´ë²ˆ ë‹¬</option>
                                        <option value="quarter">ì´ë²ˆ ë¶„ê¸°</option>
                                        <option value="custom">ì‚¬ìš©ì ì •ì˜</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">
                                        <span class="emoji-icon">ğŸ·ï¸</span>ì¹´í…Œê³ ë¦¬
                                    </label>
                                    <select id="comparisonCategory" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                        <option value="all">ì „ì²´</option>
                                        <option value="reviews">ë„¤ì´ë²„ ë¦¬ë·°</option>
                                        <option value="posts">ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…</option>
                                        <option value="experience">ì²´í—˜ë‹¨</option>
                                        <option value="reels">ì¸ìŠ¤íƒ€ ë¦´ìŠ¤</option>
                                        <option value="photos">ì¸ìŠ¤íƒ€ ì‚¬ì§„</option>
                                    </select>
                                </div>
                                <div id="comparisonCustomDateRange" class="hidden">
                                    <div class="grid grid-cols-2 gap-2">
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">ì‹œì‘ì¼</label>
                                            <input type="date" id="comparisonStartDate" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 text-sm font-bold mb-2">ì¢…ë£Œì¼</label>
                                            <input type="date" id="comparisonEndDate" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                                        </div>
                                    </div>
                                </div>
                                <button onclick="updateComparisonCharts()" class="w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
                                    <span class="emoji-icon">ğŸ”„</span>ë¹„êµ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ë³„ ì°¨íŠ¸ -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="font-bold mb-4 text-green-600 border-b border-green-200 pb-2">
                            <span class="emoji-icon">â­</span>ë„¤ì´ë²„ ë¦¬ë·°
                        </h3>
                        <div class="chart-container">
                            <canvas id="reviewsChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="font-bold mb-4 text-green-600 border-b border-green-200 pb-2">
                            <span class="emoji-icon">ğŸ“</span>ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…
                        </h3>
                        <div class="chart-container">
                            <canvas id="postsChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="font-bold mb-4 text-yellow-600 border-b border-yellow-200 pb-2">
                            <span class="emoji-icon">ğŸ¯</span>ì²´í—˜ë‹¨ ìš´ì˜
                        </h3>
                        <div class="chart-container">
                            <canvas id="experienceChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="font-bold mb-4 text-pink-600 border-b border-pink-200 pb-2">
                            <span class="emoji-icon">ğŸ¬</span>ì¸ìŠ¤íƒ€ ë¦´ìŠ¤
                        </h3>
                        <div class="chart-container">
                            <canvas id="reelsChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 lg:col-span-2">
                        <h3 class="font-bold mb-4 text-pink-600 border-b border-pink-200 pb-2">
                            <span class="emoji-icon">ğŸ“·</span>ì¸ìŠ¤íƒ€ ì‚¬ì§„
                        </h3>
                        <div class="chart-container">
                            <canvas id="photosChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- ìƒì„¸ ë¹„êµ í‘œ -->
                <div class="bg-white rounded-lg shadow-md p-6 mt-6">
                    <h3 class="text-lg font-bold mb-4">
                        <span class="emoji-icon">ğŸ“Š</span>ìƒì„¸ ë¹„êµ í‘œ
                    </h3>
                    <div class="table-mobile-scroll" id="comparisonTable">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- íŒŒì¼ ì…ë ¥ (ìˆ¨ê¹€) -->
    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <script>
        // ë°ì´í„° ê´€ë¦¬ í´ë˜ìŠ¤
        class DataManager {
            constructor() {
                this.initializeData();
            }

            initializeData() {
                // ê¸°ë³¸ ë°ì´í„° êµ¬ì¡°
                const defaultData = {
                    users: {
                        'admin@gohair.com': { password: 'GoHair2024!', role: 'admin', name: 'ê´€ë¦¬ì' },
                        'songdo@gohair.com': { password: 'Songdo123!', role: 'leader', branch: 'ì†¡ë„1ì§€ì ', name: 'ì†¡ë„ë¦¬ë”' },
                        'geomdan@gohair.com': { password: 'Geomdan123!', role: 'leader', branch: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ', name: 'ê²€ë‹¨ë¦¬ë”' },
                        'bupyeong@gohair.com': { password: 'Bupyeong123!', role: 'leader', branch: 'ë¶€í‰ì ', name: 'ë¶€í‰ë¦¬ë”' }
                    },
                    branches: [
                        { id: 1, name: 'ì†¡ë„1ì§€ì ', code: 'SD01', address: 'ì¸ì²œì‹œ ì—°ìˆ˜êµ¬ ì†¡ë„ë™', createdAt: '2024-01-01' },
                        { id: 2, name: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ', code: 'GD01', address: 'ì¸ì²œì‹œ ì„œêµ¬ ê²€ë‹¨ë™', createdAt: '2024-01-01' },
                        { id: 3, name: 'ë¶€í‰ì ', code: 'BP01', address: 'ì¸ì²œì‹œ ë¶€í‰êµ¬ ë¶€í‰ë™', createdAt: '2024-01-01' }
                    ],
                    designers: [
                        { id: 1, name: 'ê¹€ë””ìì´ë„ˆ', branch: 'ì†¡ë„1ì§€ì ', position: 'ë””ìì´ë„ˆ', phone: '010-1234-5678', createdAt: '2024-01-15' },
                        { id: 2, name: 'ì´ì‹¤ì¥', branch: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ', position: 'ì‹¤ì¥', phone: '010-2345-6789', createdAt: '2024-01-10' },
                        { id: 3, name: 'ë°•íŒ€ì¥', branch: 'ë¶€í‰ì ', position: 'íŒ€ì¥', phone: '010-3456-7890', createdAt: '2024-01-20' }
                    ],
                    checklists: [
                        {
                            id: 1,
                            designerId: 1,
                            designer: 'ê¹€ë””ìì´ë„ˆ',
                            branch: 'ì†¡ë„1ì§€ì ',
                            date: '2024-06-01',
                            naverReviews: 5,
                            naverPosts: 2,
                            naverExperience: 1,
                            instaReels: 3,
                            instaPhotos: 8
                        },
                        {
                            id: 2,
                            designerId: 2,
                            designer: 'ì´ì‹¤ì¥',
                            branch: 'ê²€ë‹¨í…Œë¼ìŠ¤ì ',
                            date: '2024-06-01',
                            naverReviews: 3,
                            naverPosts: 1,
                            naverExperience: 0,
                            instaReels: 2,
                            instaPhotos: 5
                        },
                        {
                            id: 3,
                            designerId: 3,
                            designer: 'ë°•íŒ€ì¥',
                            branch: 'ë¶€í‰ì ',
                            date: '2024-06-01',
                            naverReviews: 4,
                            naverPosts: 3,
                            naverExperience: 2,
                            instaReels: 1,
                            instaPhotos: 6
                        }
                    ]
                };

                // localStorageì—ì„œ ë°ì´í„° ë¡œë“œ, ì—†ìœ¼ë©´ ê¸°ë³¸ ë°ì´í„° ì‚¬ìš©
                this.data = this.loadData() || defaultData;
                this.saveData();
            }

            loadData() {
                try {
                    const saved = localStorage.getItem('gohairData');
                    return saved ? JSON.parse(saved) : null;
                } catch (error) {
                    console.error('ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
                    return null;
                }
            }

            saveData() {
                try {
                    localStorage.setItem('gohairData', JSON.stringify(this.data));
                } catch (error) {
                    console.error('ë°ì´í„° ì €ì¥ ì˜¤ë¥˜:', error);
                }
            }

            // ì‚¬ìš©ì ì¶”ê°€ ë©”ì„œë“œ
            addUser(email, userData) {
                this.data.users[email] = userData;
                this.saveData();
                return true;
            }

            // CRUD ë©”ì„œë“œë“¤
            addBranch(branch) {
                const id = Math.max(...this.data.branches.map(b => b.id), 0) + 1;
                const newBranch = { ...branch, id, createdAt: new Date().toISOString().split('T')[0] };
                this.data.branches.push(newBranch);
                this.saveData();
                return newBranch;
            }

            addDesigner(designer) {
                const id = Math.max(...this.data.designers.map(d => d.id), 0) + 1;
                const newDesigner = { ...designer, id, createdAt: new Date().toISOString().split('T')[0] };
                this.data.designers.push(newDesigner);
                this.saveData();
                return newDesigner;
            }

            addChecklist(checklist) {
                const id = Math.max(...this.data.checklists.map(c => c.id), 0) + 1;
                const newChecklist = { ...checklist, id };
                this.data.checklists.push(newChecklist);
                this.saveData();
                return newChecklist;
            }

            exportData() {
                return JSON.stringify(this.data, null, 2);
            }

            importData(jsonData) {
                try {
                    const imported = JSON.parse(jsonData);
                    this.data = imported;
                    this.saveData();
                    return true;
                } catch (error) {
                    console.error('ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì˜¤ë¥˜:', error);
                    return false;
                }
            }
        }

        // ì „ì—­ ë³€ìˆ˜
        let dataManager = new DataManager();
        let currentUser = null;
        let charts = {};
        let sortOrder = {};

        // í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜ë“¤
        function showLoginPage() {
            document.getElementById('signupPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('hidden');
        }

        function showSignupPage() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('signupPage').classList.remove('hidden');
        }

        // íšŒì›ê°€ì… ì²˜ë¦¬
        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const branch = document.getElementById('signupBranch').value;
            
            // ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬
            if (dataManager.data.users[email]) {
                showNotification('ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤.', 'error');
                return;
            }
            
            // ìƒˆ ì‚¬ìš©ì ì¶”ê°€
            const newUser = {
                password: password,
                role: 'leader',
                branch: branch,
                name: name
            };
            
            dataManager.addUser(email, newUser);
            
            showNotification('ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë¡œê·¸ì¸í•´ ì£¼ì„¸ìš”.', 'success');
            
            // í¼ ë¦¬ì…‹ ë° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
            document.getElementById('signupForm').reset();
            showLoginPage();
        });

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            const users = dataManager.data.users;
            if (users[email] && users[email].password === password) {
                currentUser = { email: email, ...users[email] };
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('mainSystem').classList.remove('hidden');
                
                document.getElementById('currentUser').textContent = currentUser.name;
                
                // ê´€ë¦¬ì ë©”ë‰´ í‘œì‹œ/ìˆ¨ê¹€
                const adminMenus = document.querySelectorAll('.admin-only');
                adminMenus.forEach(menu => {
                    if (currentUser.role === 'admin') {
                        menu.classList.remove('hidden');
                    } else {
                        menu.classList.add('hidden');
                    }
                });
                
                showPage('dashboard');
                loadDashboard();
            } else {
                showNotification('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
            }
        });

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            currentUser = null;
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('mainSystem').classList.add('hidden');
            document.getElementById('signupPage').classList.add('hidden');
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
        }

        // í˜ì´ì§€ ì „í™˜
        function showPage(pageId) {
            const pages = ['dashboard', 'designers', 'branches', 'designerHistory', 'checklist', 'statistics', 'comparison'];
            pages.forEach(page => {
                const element = document.getElementById(page + 'Page');
                if (element) {
                    element.classList.add('hidden');
                }
            });
            
            const targetPage = document.getElementById(pageId + 'Page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }
            
            // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ í™œì„±í™”
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-white', 'bg-opacity-30');
                btn.classList.add('bg-white', 'bg-opacity-20');
            });
            if (event && event.target) {
                event.target.classList.remove('bg-white', 'bg-opacity-20');
                event.target.classList.add('bg-white', 'bg-opacity-30');
            }

            // í˜ì´ì§€ë³„ ë°ì´í„° ë¡œë“œ
            switch(pageId) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'designers':
                    loadDesigners();
                    break;
                case 'branches':
                    loadBranches();
                    break;
                case 'designerHistory':
                    loadDesignerHistoryPage();
                    break;
                case 'checklist':
                    loadChecklist();
                    break;
                case 'statistics':
                    loadStatistics();
                    break;
                case 'comparison':
                    loadComparison();
                    break;
            }
        }

        // ëŒ€ì‹œë³´ë“œ ë¡œë“œ
        function loadDashboard() {
            const checklists = dataManager.data.checklists;
            
            // ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ ë°ì´í„° í•„í„°ë§
            const userChecklists = currentUser.role === 'leader' 
                ? checklists.filter(c => c.branch === currentUser.branch)
                : checklists;
            
            // ì „ì²´ í†µê³„ ê³„ì‚°
            const totalReviews = userChecklists.reduce((sum, c) => sum + c.naverReviews, 0);
            const totalPosts = userChecklists.reduce((sum, c) => sum + c.naverPosts, 0);
            const totalExperience = userChecklists.reduce((sum, c) => sum + c.naverExperience, 0);
            const totalReels = userChecklists.reduce((sum, c) => sum + c.instaReels, 0);
            const totalPhotos = userChecklists.reduce((sum, c) => sum + c.instaPhotos, 0);

            document.getElementById('totalReviews').textContent = totalReviews;
            document.getElementById('totalPosts').textContent = totalPosts;
            document.getElementById('totalExperience').textContent = totalExperience;
            document.getElementById('totalReels').textContent = totalReels;
            document.getElementById('totalPhotos').textContent = totalPhotos;

            // ì§€ì ë³„ ìˆœìœ„
            loadBranchRankings();
        }

        // ì§€ì ë³„ ìˆœìœ„ ë¡œë“œ
        function loadBranchRankings() {
            const checklists = dataManager.data.checklists;
            const branches = dataManager.data.branches;
            
            // ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ ì§€ì  í•„í„°ë§
            const userBranches = currentUser.role === 'leader' 
                ? branches.filter(b => b.name === currentUser.branch)
                : branches;
            
            const branchStats = userBranches.map(branch => {
                const branchChecklists = checklists.filter(c => c.branch === branch.name);
                const reviews = branchChecklists.reduce((sum, c) => sum + c.naverReviews, 0);
                const posts = branchChecklists.reduce((sum, c) => sum + c.naverPosts, 0);
                const experience = branchChecklists.reduce((sum, c) => sum + c.naverExperience, 0);
                const reels = branchChecklists.reduce((sum, c) => sum + c.instaReels, 0);
                const photos = branchChecklists.reduce((sum, c) => sum + c.instaPhotos, 0);
                const total = reviews + posts + experience + reels + photos;
                
                return { branch: branch.name, reviews, posts, experience, reels, photos, total };
            });

            branchStats.sort((a, b) => b.total - a.total);

            const tbody = document.getElementById('branchRankings');
            tbody.innerHTML = branchStats.map((stat, index) => `
                <tr class="${index % 2 === 0 ? 'bg-gray-50' : ''} hover:bg-gray-100">
                    <td class="px-4 py-2 font-bold">${index + 1}</td>
                    <td class="px-4 py-2 font-medium">${stat.branch}</td>
                    <td class="px-4 py-2">${stat.reviews}</td>
                    <td class="px-4 py-2">${stat.posts}</td>
                    <td class="px-4 py-2">${stat.experience}</td>
                    <td class="px-4 py-2">${stat.reels}</td>
                    <td class="px-4 py-2">${stat.photos}</td>
                    <td class="px-4 py-2 font-bold text-blue-600">${stat.total}</td>
                </tr>
            `).join('');
        }

        // í…Œì´ë¸” ì •ë ¬ í•¨ìˆ˜
        function sortTable(column) {
            const order = sortOrder[column] === 'asc' ? 'desc' : 'asc';
            sortOrder[column] = order;
            
            // ì •ë ¬ ë¡œì§ êµ¬í˜„
            loadBranchRankings();
        }

        // ë””ìì´ë„ˆ ê´€ë¦¬ ë¡œë“œ
        function loadDesigners() {
            const designers = dataManager.data.designers;
            const userBranch = currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredDesigners = userBranch ? 
                designers.filter(d => d.branch === userBranch) : designers;

            // ì´ í™œë™ëŸ‰ ê³„ì‚°
            const designersWithActivity = filteredDesigners.map(designer => {
                const checklists = dataManager.data.checklists.filter(c => c.designerId === designer.id);
                const totalActivity = checklists.reduce((sum, c) => 
                    sum + c.naverReviews + c.naverPosts + c.naverExperience + c.instaReels + c.instaPhotos, 0);
                return { ...designer, totalActivity };
            });

            const tbody = document.getElementById('designersList');
            tbody.innerHTML = designersWithActivity.map(designer => `
                <tr class="border-b hover:bg-gray-50">
                    <td class="px-4 py-2 font-medium">${designer.name}</td>
                    <td class="px-4 py-2">${designer.branch}</td>
                    <td class="px-4 py-2">
                        <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">
                            ${designer.position}
                        </span>
                    </td>
                    <td class="px-4 py-2">${designer.phone}</td>
                    <td class="px-4 py-2">${designer.createdAt}</td>
                    <td class="px-4 py-2 font-bold text-green-600">${designer.totalActivity}</td>
                    <td class="px-4 py-2">
                        <button onclick="editDesigner(${designer.id})" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm mr-1">
                            âœï¸
                        </button>
                        <button onclick="deleteDesigner(${designer.id})" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                            ğŸ—‘ï¸
                        </button>
                    </td>
                </tr>
            `).join('');

            // ì§€ì  ì˜µì…˜ ë¡œë“œ
            loadBranchOptions();
        }

        // ë””ìì´ë„ˆ ì •ë ¬
        function sortDesigners(column) {
            const order = sortOrder[column] === 'asc' ? 'desc' : 'asc';
            sortOrder[column] = order;
            loadDesigners();
        }

        // ì§€ì  ê´€ë¦¬ ë¡œë“œ
        function loadBranches() {
            const branches = dataManager.data.branches;
            const designers = dataManager.data.designers;

            const tbody = document.getElementById('branchesList');
            tbody.innerHTML = branches.map(branch => {
                const designerCount = designers.filter(d => d.branch === branch.name).length;
                return `
                    <tr class="border-b hover:bg-gray-50">
                        <td class="px-4 py-2 font-medium">${branch.name}</td>
                        <td class="px-4 py-2">
                            <span class="px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs font-mono">
                                ${branch.code}
                            </span>
                        </td>
                        <td class="px-4 py-2">${branch.address}</td>
                        <td class="px-4 py-2">
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                                ${designerCount}ëª…
                            </span>
                        </td>
                        <td class="px-4 py-2">${branch.createdAt}</td>
                        <td class="px-4 py-2">
                            <button onclick="editBranch(${branch.id})" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm mr-1">
                                âœï¸
                            </button>
                            <button onclick="deleteBranch(${branch.id})" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                                ğŸ—‘ï¸
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬ í˜ì´ì§€ ë¡œë“œ
        function loadDesignerHistoryPage() {
            const designers = dataManager.data.designers;
            const userBranch = currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredDesigners = userBranch ? 
                designers.filter(d => d.branch === userBranch) : designers;

            const select = document.getElementById('historyDesignerSelect');
            select.innerHTML = '<option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>' +
                filteredDesigners.map(d => `
                    <option value="${d.id}">
                        ${d.name} (${d.branch} - ${d.position})
                    </option>
                `).join('');

            // ë””ìì´ë„ˆ ì„ íƒ ì‹œ íˆìŠ¤í† ë¦¬ í‘œì‹œ
            select.addEventListener('change', function() {
                if (this.value) {
                    loadSelectedDesignerHistory(this.value);
                } else {
                    document.getElementById('selectedDesignerHistory').innerHTML = `
                        <div class="text-center py-12">
                            <span class="large-emoji text-gray-300">ğŸ“ˆ</span>
                            <h3 class="text-lg font-medium text-gray-600 mb-2 mt-4">ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬</h3>
                            <p class="text-gray-500">ìœ„ì—ì„œ ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ ìƒì„¸í•œ í™œë™ íˆìŠ¤í† ë¦¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    `;
                }
            });
        }

        // ì„ íƒëœ ë””ìì´ë„ˆ íˆìŠ¤í† ë¦¬ ë¡œë“œ
        function loadSelectedDesignerHistory(designerId) {
            const checklists = dataManager.data.checklists.filter(c => c.designerId == designerId);
            const designer = dataManager.data.designers.find(d => d.id == designerId);
            
            if (checklists.length === 0) {
                document.getElementById('selectedDesignerHistory').innerHTML = `
                    <div class="text-center py-12">
                        <span class="large-emoji text-gray-300">ğŸ“­</span>
                        <h4 class="text-lg font-medium text-gray-600 mb-2 mt-4">${designer.name}ë‹˜ì˜ ê¸°ë¡</h4>
                        <p class="text-gray-500">ì•„ì§ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }

            // ìµœê·¼ 7ì¼ ë°ì´í„°ì™€ ì´ê³„ ê³„ì‚°
            const totalReviews = checklists.reduce((sum, c) => sum + c.naverReviews, 0);
            const totalPosts = checklists.reduce((sum, c) => sum + c.naverPosts, 0);
            const totalExperience = checklists.reduce((sum, c) => sum + c.naverExperience, 0);
            const totalReels = checklists.reduce((sum, c) => sum + c.instaReels, 0);
            const totalPhotos = checklists.reduce((sum, c) => sum + c.instaPhotos, 0);

            const avgReviews = (totalReviews / checklists.length).toFixed(1);
            const avgPosts = (totalPosts / checklists.length).toFixed(1);
            const avgExperience = (totalExperience / checklists.length).toFixed(1);
            const avgReels = (totalReels / checklists.length).toFixed(1);
            const avgPhotos = (totalPhotos / checklists.length).toFixed(1);

            const historyHtml = `
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-3">ğŸ‘¤</span>
                        <div>
                            <h3 class="text-xl font-bold">${designer.name}ë‹˜ì˜ í™œë™ íˆìŠ¤í† ë¦¬</h3>
                            <p class="text-sm text-gray-600">${designer.branch} â€¢ ${designer.position}</p>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h4 class="font-bold text-blue-700 mb-4 text-lg">
                            <span class="emoji-icon">ğŸ“Š</span>ì´ í™œë™ëŸ‰
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">â­</span>ë¦¬ë·°</span>
                                <span class="font-bold text-lg text-blue-600">${totalReviews}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ“</span>í¬ìŠ¤íŒ…</span>
                                <span class="font-bold text-lg text-blue-600">${totalPosts}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ¯</span>ì²´í—˜ë‹¨</span>
                                <span class="font-bold text-lg text-blue-600">${totalExperience}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ¬</span>ë¦´ìŠ¤</span>
                                <span class="font-bold text-lg text-blue-600">${totalReels}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ“·</span>ì‚¬ì§„</span>
                                <span class="font-bold text-lg text-blue-600">${totalPhotos}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 p-6 rounded-lg">
                        <h4 class="font-bold text-green-700 mb-4 text-lg">
                            <span class="emoji-icon">ğŸ§®</span>ì¼ì¼ í‰ê· 
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">â­</span>ë¦¬ë·°</span>
                                <span class="font-bold text-lg text-green-600">${avgReviews}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ“</span>í¬ìŠ¤íŒ…</span>
                                <span class="font-bold text-lg text-green-600">${avgPosts}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ¯</span>ì²´í—˜ë‹¨</span>
                                <span class="font-bold text-lg text-green-600">${avgExperience}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ¬</span>ë¦´ìŠ¤</span>
                                <span class="font-bold text-lg text-green-600">${avgReels}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="flex items-center"><span class="emoji-icon">ğŸ“·</span>ì‚¬ì§„</span>
                                <span class="font-bold text-lg text-green-600">${avgPhotos}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white border rounded-lg overflow-hidden">
                    <div class="bg-gray-50 px-6 py-4 border-b">
                        <h4 class="font-bold text-lg">
                            <span class="emoji-icon">ğŸ“‹</span>ìµœê·¼ í™œë™ ê¸°ë¡
                        </h4>
                    </div>
                    <div class="table-mobile-scroll">
                        <table class="min-w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ë‚ ì§œ</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ë¦¬ë·°</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">í¬ìŠ¤íŒ…</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì²´í—˜ë‹¨</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ë¦´ìŠ¤</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì‚¬ì§„</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">í•©ê³„</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                ${checklists.slice(-15).reverse().map(c => {
                                    const daily = c.naverReviews + c.naverPosts + c.naverExperience + c.instaReels + c.instaPhotos;
                                    return `
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-4 py-3 text-sm font-medium">${c.date}</td>
                                            <td class="px-4 py-3 text-sm">${c.naverReviews}</td>
                                            <td class="px-4 py-3 text-sm">${c.naverPosts}</td>
                                            <td class="px-4 py-3 text-sm">${c.naverExperience}</td>
                                            <td class="px-4 py-3 text-sm">${c.instaReels}</td>
                                            <td class="px-4 py-3 text-sm">${c.instaPhotos}</td>
                                            <td class="px-4 py-3 text-sm font-bold text-blue-600">${daily}</td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;

            document.getElementById('selectedDesignerHistory').innerHTML = historyHtml;
        }

        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¡œë“œ
        function loadChecklist() {
            const designers = dataManager.data.designers;
            const userBranch = currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredDesigners = userBranch ? 
                designers.filter(d => d.branch === userBranch) : designers;

            const select = document.getElementById('checklistDesigner');
            select.innerHTML = '<option value="">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”</option>' +
                filteredDesigners.map(d => `
                    <option value="${d.id}">
                        ${d.name} (${d.branch} - ${d.position})
                    </option>
                `).join('');

            // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
            document.getElementById('checklistDate').value = new Date().toISOString().split('T')[0];

            // ë””ìì´ë„ˆ ì„ íƒ ì‹œ ë¹ ë¥¸ í˜„í™© ë³´ê¸°
            select.addEventListener('change', function() {
                if (this.value) {
                    loadChecklistQuickView(this.value);
                } else {
                    document.getElementById('checklistQuickView').innerHTML = `
                        <div class="text-center py-8">
                            <span class="large-emoji text-gray-300">â„¹ï¸</span>
                            <p class="text-gray-500 mt-4">ë””ìì´ë„ˆë¥¼ ì„ íƒí•˜ë©´ ìµœê·¼ í™œë™ ìš”ì•½ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    `;
                }
            });
        }

        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¹ ë¥¸ í˜„í™© ë³´ê¸°
        function loadChecklistQuickView(designerId) {
            const checklists = dataManager.data.checklists.filter(c => c.designerId == designerId);
            const designer = dataManager.data.designers.find(d => d.id == designerId);
            
            if (checklists.length === 0) {
                document.getElementById('checklistQuickView').innerHTML = `
                    <div class="text-center py-8">
                        <span class="large-emoji text-gray-300">ğŸ“­</span>
                        <h4 class="text-lg font-medium text-gray-600 mb-2 mt-4">${designer.name}ë‹˜</h4>
                        <p class="text-gray-500">ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }

            // ìµœê·¼ 5ì¼ ë°ì´í„°
            const recentChecklists = checklists.slice(-5).reverse();
            
            const quickViewHtml = `
                <div class="mb-4">
                    <h4 class="font-bold text-lg mb-3">${designer.name}ë‹˜ ìµœê·¼ í™œë™</h4>
                </div>
                <div class="table-mobile-scroll">
                    <table class="min-w-full text-sm">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-3 py-2 text-left">ë‚ ì§œ</th>
                                <th class="px-3 py-2 text-center">ë¦¬ë·°</th>
                                <th class="px-3 py-2 text-center">í¬ìŠ¤íŒ…</th>
                                <th class="px-3 py-2 text-center">ì²´í—˜ë‹¨</th>
                                <th class="px-3 py-2 text-center">ë¦´ìŠ¤</th>
                                <th class="px-3 py-2 text-center">ì‚¬ì§„</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${recentChecklists.map(c => `
                                <tr class="border-b hover:bg-gray-50">
                                    <td class="px-3 py-2 font-medium">${c.date}</td>
                                    <td class="px-3 py-2 text-center">${c.naverReviews}</td>
                                    <td class="px-3 py-2 text-center">${c.naverPosts}</td>
                                    <td class="px-3 py-2 text-center">${c.naverExperience}</td>
                                    <td class="px-3 py-2 text-center">${c.instaReels}</td>
                                    <td class="px-3 py-2 text-center">${c.instaPhotos}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
                <div class="mt-4 text-center">
                    <button onclick="showPage('designerHistory')" class="text-blue-600 hover:text-blue-800 text-sm">
                        <span class="emoji-icon">ğŸ“Š</span>ì „ì²´ íˆìŠ¤í† ë¦¬ ë³´ê¸°
                    </button>
                </div>
            `;

            document.getElementById('checklistQuickView').innerHTML = quickViewHtml;
        }

        // í†µê³„ ë¶„ì„ ë¡œë“œ
        function loadStatistics() {
            // ì§€ì  ì˜µì…˜ ë¡œë“œ (ê´€ë¦¬ìë§Œ)
            if (currentUser.role === 'admin') {
                const branches = dataManager.data.branches;
                const select = document.getElementById('statisticsBranch');
                if (select) {
                    select.innerHTML = '<option value="">ì „ì²´ ì§€ì </option>' +
                        branches.map(b => `<option value="${b.name}">${b.name}</option>`).join('');
                }
            }

            // ê¸°ê°„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const periodSelect = document.getElementById('statisticsPeriod');
            periodSelect.addEventListener('change', function() {
                const customRange = document.getElementById('customDateRange');
                if (this.value === 'custom') {
                    customRange.classList.remove('hidden');
                } else {
                    customRange.classList.add('hidden');
                }
            });

            updateStatisticsChart();
        }

        // í†µê³„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateStatisticsChart() {
            const period = document.getElementById('statisticsPeriod').value;
            const branch = document.getElementById('statisticsBranch')?.value || '';
            const category = document.getElementById('statisticsCategory').value;

            let checklists = dataManager.data.checklists;
            
            // ì§€ì  í•„í„°ë§
            if (branch) {
                checklists = checklists.filter(c => c.branch === branch);
            } else if (currentUser.role === 'leader') {
                checklists = checklists.filter(c => c.branch === currentUser.branch);
            }

            // ì¹´í…Œê³ ë¦¬ë³„ ë°ì´í„° ì¤€ë¹„
            const labels = [...new Set(checklists.map(c => c.date))].sort();
            const datasets = [];

            const categoryColors = {
                reviews: { border: 'rgb(34, 197, 94)', bg: 'rgba(34, 197, 94, 0.1)' },
                posts: { border: 'rgb(34, 197, 94)', bg: 'rgba(34, 197, 94, 0.1)' },
                experience: { border: 'rgb(245, 158, 11)', bg: 'rgba(245, 158, 11, 0.1)' },
                reels: { border: 'rgb(236, 72, 153)', bg: 'rgba(236, 72, 153, 0.1)' },
                photos: { border: 'rgb(236, 72, 153)', bg: 'rgba(236, 72, 153, 0.1)' }
            };

            if (category === 'all' || category === 'reviews') {
                datasets.push({
                    label: 'ë„¤ì´ë²„ ë¦¬ë·°',
                    data: labels.map(date => {
                        return checklists.filter(c => c.date === date).reduce((sum, c) => sum + c.naverReviews, 0);
                    }),
                    borderColor: categoryColors.reviews.border,
                    backgroundColor: categoryColors.reviews.bg,
                    tension: 0.4
                });
            }

            if (category === 'all' || category === 'posts') {
                datasets.push({
                    label: 'ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…',
                    data: labels.map(date => {
                        return checklists.filter(c => c.date === date).reduce((sum, c) => sum + c.naverPosts, 0);
                    }),
                    borderColor: categoryColors.posts.border,
                    backgroundColor: categoryColors.posts.bg,
                    tension: 0.4
                });
            }

            if (category === 'all' || category === 'experience') {
                datasets.push({
                    label: 'ì²´í—˜ë‹¨ ìš´ì˜',
                    data: labels.map(date => {
                        return checklists.filter(c => c.date === date).reduce((sum, c) => sum + c.naverExperience, 0);
                    }),
                    borderColor: categoryColors.experience.border,
                    backgroundColor: categoryColors.experience.bg,
                    tension: 0.4
                });
            }

            if (category === 'all' || category === 'reels') {
                datasets.push({
                    label: 'ì¸ìŠ¤íƒ€ ë¦´ìŠ¤',
                    data: labels.map(date => {
                        return checklists.filter(c => c.date === date).reduce((sum, c) => sum + c.instaReels, 0);
                    }),
                    borderColor: categoryColors.reels.border,
                    backgroundColor: categoryColors.reels.bg,
                    tension: 0.4
                });
            }

            if (category === 'all' || category === 'photos') {
                datasets.push({
                    label: 'ì¸ìŠ¤íƒ€ ì‚¬ì§„',
                    data: labels.map(date => {
                        return checklists.filter(c => c.date === date).reduce((sum, c) => sum + c.instaPhotos, 0);
                    }),
                    borderColor: categoryColors.photos.border,
                    backgroundColor: categoryColors.photos.bg,
                    tension: 0.4
                });
            }

            // ì°¨íŠ¸ ìƒì„±/ì—…ë°ì´íŠ¸
            const ctx = document.getElementById('statisticsChart').getContext('2d');
            
            if (charts.statistics) {
                charts.statistics.destroy();
            }

            charts.statistics = new Chart(ctx, {
                type: 'line',
                data: { labels, datasets },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'í™œë™ëŸ‰ ì¶”ì´'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                display: true,
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // ìˆœìœ„ í…Œì´ë¸” ì—…ë°ì´íŠ¸
            updateStatisticsTable(checklists, category);
        }

        // í†µê³„ í…Œì´ë¸” ì—…ë°ì´íŠ¸
        function updateStatisticsTable(checklists, category) {
            // ì§€ì ë³„ ë˜ëŠ” ë””ìì´ë„ˆë³„ í†µê³„ ìƒì„±
            const branches = dataManager.data.branches;
            const designers = dataManager.data.designers;

            let tableData = [];
            
            if (currentUser.role === 'admin') {
                // ê´€ë¦¬ìëŠ” ì§€ì ë³„ í†µê³„
                tableData = branches.map(branch => {
                    const branchChecklists = checklists.filter(c => c.branch === branch.name);
                    const total = branchChecklists.reduce((sum, c) => {
                        switch(category) {
                            case 'reviews': return sum + c.naverReviews;
                            case 'posts': return sum + c.naverPosts;
                            case 'experience': return sum + c.naverExperience;
                            case 'reels': return sum + c.instaReels;
                            case 'photos': return sum + c.instaPhotos;
                            default: return sum + c.naverReviews + c.naverPosts + c.naverExperience + c.instaReels + c.instaPhotos;
                        }
                    }, 0);
                    return { name: branch.name, type: 'ì§€ì ', total };
                });
            } else {
                // SNS ë¦¬ë”ëŠ” ìì‹  ì§€ì ì˜ ë””ìì´ë„ˆë³„ í†µê³„
                const branchDesigners = designers.filter(d => d.branch === currentUser.branch);
                tableData = branchDesigners.map(designer => {
                    const designerChecklists = checklists.filter(c => c.designerId === designer.id);
                    const total = designerChecklists.reduce((sum, c) => {
                        switch(category) {
                            case 'reviews': return sum + c.naverReviews;
                            case 'posts': return sum + c.naverPosts;
                            case 'experience': return sum + c.naverExperience;
                            case 'reels': return sum + c.instaReels;
                            case 'photos': return sum + c.instaPhotos;
                            default: return sum + c.naverReviews + c.naverPosts + c.naverExperience + c.instaReels + c.instaPhotos;
                        }
                    }, 0);
                    return { name: designer.name, type: 'ë””ìì´ë„ˆ', total };
                });
            }

            // ì •ë ¬
            const sortOrder = document.getElementById('statisticsSort').value;
            tableData.sort((a, b) => sortOrder === 'desc' ? b.total - a.total : a.total - b.total);

            // í…Œì´ë¸” ìƒì„±
            const tableHtml = `
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">ìˆœìœ„</th>
                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">${currentUser.role === 'admin' ? 'ì§€ì ' : 'ë””ìì´ë„ˆ'}</th>
                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">ì´ê³„</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        ${tableData.map((item, index) => `
                            <tr class="hover:bg-gray-50">
                                <td class="px-4 py-2 font-bold">${index + 1}</td>
                                <td class="px-4 py-2 font-medium">${item.name}</td>
                                <td class="px-4 py-2 text-blue-600 font-bold">${item.total}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;

            document.getElementById('statisticsTable').innerHTML = tableHtml;
        }

        // ì§€ì  ë¹„êµ ë¡œë“œ
        function loadComparison() {
            const branches = dataManager.data.branches;
            
            // ì§€ì  ì²´í¬ë°•ìŠ¤ ìƒì„±
            const container = document.getElementById('branchCheckboxes');
            container.innerHTML = branches.map(branch => `
                <label class="flex items-center p-2 border rounded hover:bg-gray-50">
                    <input type="checkbox" class="branch-checkbox mr-3 w-4 h-4" value="${branch.name}"> 
                    <div>
                        <div class="font-medium">${branch.name}</div>
                        <div class="text-xs text-gray-500">${branch.code}</div>
                    </div>
                </label>
            `).join('');

            // ì „ì§€ì  ì„ íƒ ê¸°ëŠ¥
            document.getElementById('selectAllBranches').addEventListener('change', function() {
                const checkboxes = document.querySelectorAll('.branch-checkbox');
                checkboxes.forEach(cb => cb.checked = this.checked);
                updateComparisonCharts();
            });

            // ê¸°ê°„ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const periodSelect = document.getElementById('comparisonPeriod');
            periodSelect.addEventListener('change', function() {
                const customRange = document.getElementById('comparisonCustomDateRange');
                if (this.value === 'custom') {
                    customRange.classList.remove('hidden');
                } else {
                    customRange.classList.add('hidden');
                }
            });

            updateComparisonCharts();
        }

        // ë¹„êµ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateComparisonCharts() {
            const selectedBranches = Array.from(document.querySelectorAll('.branch-checkbox:checked')).map(cb => cb.value);
            const checklists = dataManager.data.checklists.filter(c => selectedBranches.includes(c.branch));

            if (selectedBranches.length === 0) {
                // ì°¨íŠ¸ ì´ˆê¸°í™”
                const chartIds = ['reviewsChart', 'postsChart', 'experienceChart', 'reelsChart', 'photosChart'];
                chartIds.forEach(id => {
                    if (charts[id]) {
                        charts[id].destroy();
                        charts[id] = null;
                    }
                });
                document.getElementById('comparisonTable').innerHTML = '<p class="text-gray-500 text-center py-4">ë¹„êµí•  ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”.</p>';
                return;
            }

            // ê° ì¹´í…Œê³ ë¦¬ë³„ ì°¨íŠ¸ ìƒì„±
            const categories = [
                { id: 'reviewsChart', field: 'naverReviews', label: 'ë„¤ì´ë²„ ë¦¬ë·°', color: 'rgb(34, 197, 94)' },
                { id: 'postsChart', field: 'naverPosts', label: 'ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…', color: 'rgb(34, 197, 94)' },
                { id: 'experienceChart', field: 'naverExperience', label: 'ì²´í—˜ë‹¨ ìš´ì˜', color: 'rgb(245, 158, 11)' },
                { id: 'reelsChart', field: 'instaReels', label: 'ì¸ìŠ¤íƒ€ ë¦´ìŠ¤', color: 'rgb(236, 72, 153)' },
                { id: 'photosChart', field: 'instaPhotos', label: 'ì¸ìŠ¤íƒ€ ì‚¬ì§„', color: 'rgb(236, 72, 153)' }
            ];

            categories.forEach(category => {
                const ctx = document.getElementById(category.id).getContext('2d');
                
                if (charts[category.id]) {
                    charts[category.id].destroy();
                }

                const data = selectedBranches.map(branch => {
                    return checklists.filter(c => c.branch === branch).reduce((sum, c) => sum + c[category.field], 0);
                });

                charts[category.id] = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: selectedBranches,
                        datasets: [{
                            label: category.label,
                            data: data,
                            backgroundColor: category.color + '20',
                            borderColor: category.color,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            });

            // ìƒì„¸ ë¹„êµ í‘œ ì—…ë°ì´íŠ¸
            updateComparisonTable(selectedBranches, checklists);
        }

        // ë¹„êµ í…Œì´ë¸” ì—…ë°ì´íŠ¸
        function updateComparisonTable(selectedBranches, checklists) {
            if (selectedBranches.length === 0) return;

            const tableData = selectedBranches.map(branch => {
                const branchChecklists = checklists.filter(c => c.branch === branch);
                return {
                    branch,
                    reviews: branchChecklists.reduce((sum, c) => sum + c.naverReviews, 0),
                    posts: branchChecklists.reduce((sum, c) => sum + c.naverPosts, 0),
                    experience: branchChecklists.reduce((sum, c) => sum + c.naverExperience, 0),
                    reels: branchChecklists.reduce((sum, c) => sum + c.instaReels, 0),
                    photos: branchChecklists.reduce((sum, c) => sum + c.instaPhotos, 0)
                };
            });

            // ì´ê³„ ê³„ì‚°
            tableData.forEach(item => {
                item.total = item.reviews + item.posts + item.experience + item.reels + item.photos;
            });

            const tableHtml = `
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-2 text-left font-medium">ì§€ì </th>
                            <th class="px-4 py-2 text-center font-medium">
                                <span class="emoji-icon">â­</span>ë¦¬ë·°
                            </th>
                            <th class="px-4 py-2 text-center font-medium">
                                <span class="emoji-icon">ğŸ“</span>í¬ìŠ¤íŒ…
                            </th>
                            <th class="px-4 py-2 text-center font-medium">
                                <span class="emoji-icon">ğŸ¯</span>ì²´í—˜ë‹¨
                            </th>
                            <th class="px-4 py-2 text-center font-medium">
                                <span class="emoji-icon">ğŸ¬</span>ë¦´ìŠ¤
                            </th>
                            <th class="px-4 py-2 text-center font-medium">
                                <span class="emoji-icon">ğŸ“·</span>ì‚¬ì§„
                            </th>
                            <th class="px-4 py-2 text-center font-medium">ì´ê³„</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        ${tableData.map(item => `
                            <tr class="hover:bg-gray-50">
                                <td class="px-4 py-2 font-medium">${item.branch}</td>
                                <td class="px-4 py-2 text-center">${item.reviews}</td>
                                <td class="px-4 py-2 text-center">${item.posts}</td>
                                <td class="px-4 py-2 text-center">${item.experience}</td>
                                <td class="px-4 py-2 text-center">${item.reels}</td>
                                <td class="px-4 py-2 text-center">${item.photos}</td>
                                <td class="px-4 py-2 text-center font-bold text-blue-600">${item.total}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;

            document.getElementById('comparisonTable').innerHTML = tableHtml;
        }

        // ì§€ì  ì˜µì…˜ ë¡œë“œ
        function loadBranchOptions() {
            const branches = dataManager.data.branches;
            const userBranch = currentUser.role === 'leader' ? currentUser.branch : null;
            
            const filteredBranches = userBranch ? 
                branches.filter(b => b.name === userBranch) : branches;

            const select = document.getElementById('designerBranch');
            select.innerHTML = '<option value="">ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”</option>' +
                filteredBranches.map(b => `<option value="${b.name}">${b.name}</option>`).join('');
        }

        // ëª¨ë‹¬ ê´€ë¦¬
        function showAddDesigner() {
            loadBranchOptions();
            document.getElementById('addDesignerModal').classList.remove('hidden');
        }

        function hideAddDesigner() {
            document.getElementById('addDesignerModal').classList.add('hidden');
            document.getElementById('addDesignerForm').reset();
        }

        function showAddBranch() {
            document.getElementById('addBranchModal').classList.remove('hidden');
        }

        function hideAddBranch() {
            document.getElementById('addBranchModal').classList.add('hidden');
            document.getElementById('addBranchForm').reset();
        }

        // í¼ ì œì¶œ ì²˜ë¦¬
        document.getElementById('addDesignerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const designer = {
                name: document.getElementById('designerName').value,
                branch: document.getElementById('designerBranch').value,
                position: document.getElementById('designerPosition').value,
                phone: document.getElementById('designerPhone').value
            };

            dataManager.addDesigner(designer);
            hideAddDesigner();
            loadDesigners();
            
            // ì„±ê³µ ì•Œë¦¼
            showNotification('ë””ìì´ë„ˆê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        });

        document.getElementById('addBranchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const branch = {
                name: document.getElementById('branchName').value,
                code: document.getElementById('branchCode').value,
                address: document.getElementById('branchAddress').value
            };

            dataManager.addBranch(branch);
            hideAddBranch();
            loadBranches();
            
            // ì„±ê³µ ì•Œë¦¼
            showNotification('ì§€ì ì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        });

        document.getElementById('checklistForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const designerId = document.getElementById('checklistDesigner').value;
            const designer = dataManager.data.designers.find(d => d.id == designerId);
            
            const checklist = {
                designerId: parseInt(designerId),
                designer: designer.name,
                branch: designer.branch,
                date: document.getElementById('checklistDate').value,
                naverReviews: parseInt(document.getElementById('naverReviews').value) || 0,
                naverPosts: parseInt(document.getElementById('naverPosts').value) || 0,
                naverExperience: parseInt(document.getElementById('naverExperience').value) || 0,
                instaReels: parseInt(document.getElementById('instaReels').value) || 0,
                instaPhotos: parseInt(document.getElementById('instaPhotos').value) || 0
            };

            dataManager.addChecklist(checklist);
            
            // í¼ ë¦¬ì…‹ (ë””ìì´ë„ˆ ì„ íƒê³¼ ë‚ ì§œ ì œì™¸)
            ['naverReviews', 'naverPosts', 'naverExperience', 'instaReels', 'instaPhotos'].forEach(id => {
                document.getElementById(id).value = '0';
            });
            
            loadChecklistQuickView(designerId);
            loadDashboard(); // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
            
            // ì„±ê³µ ì•Œë¦¼
            showNotification('ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        });

        // ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 'bg-blue-500'
            }`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <span class="emoji-icon">${type === 'success' ? 'âœ…' : type === 'error' ? 'âš ï¸' : 'â„¹ï¸'}</span>
                    ${message}
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°
        function exportData() {
            const data = dataManager.exportData();
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `gohair_backup_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸° ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        function importData() {
            document.getElementById('fileInput').click();
        }

        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const success = dataManager.importData(e.target.result);
                    if (success) {
                        showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì™€ì¡ŒìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.', 'success');
                        setTimeout(() => {
                            location.reload();
                        }, 1500);
                    } else {
                        showNotification('ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                    }
                };
                reader.readAsText(file);
            }
        });

        // í¸ì§‘/ì‚­ì œ í•¨ìˆ˜ë“¤
        function editDesigner(id) {
            showNotification('ë””ìì´ë„ˆ í¸ì§‘ ê¸°ëŠ¥ì€ ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •ì…ë‹ˆë‹¤.', 'info');
        }

        function deleteDesigner(id) {
            if (confirm('ì •ë§ë¡œ ì´ ë””ìì´ë„ˆë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                dataManager.data.designers = dataManager.data.designers.filter(d => d.id !== id);
                dataManager.data.checklists = dataManager.data.checklists.filter(c => c.designerId !== id);
                dataManager.saveData();
                loadDesigners();
                showNotification('ë””ìì´ë„ˆê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        function editBranch(id) {
            showNotification('ì§€ì  í¸ì§‘ ê¸°ëŠ¥ì€ ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •ì…ë‹ˆë‹¤.', 'info');
        }

        function deleteBranch(id) {
            const branch = dataManager.data.branches.find(b => b.id === id);
            if (confirm(`ì •ë§ë¡œ "${branch.name}" ì§€ì ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nê´€ë ¨ëœ ëª¨ë“  ë””ìì´ë„ˆì™€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.`)) {
                dataManager.data.branches = dataManager.data.branches.filter(b => b.id !== id);
                dataManager.data.designers = dataManager.data.designers.filter(d => d.branch !== branch.name);
                dataManager.data.checklists = dataManager.data.checklists.filter(c => c.branch !== branch.name);
                dataManager.saveData();
                loadBranches();
                showNotification('ì§€ì ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const statisticsPeriod = document.getElementById('statisticsPeriod');
            if (statisticsPeriod) {
                statisticsPeriod.addEventListener('change', updateStatisticsChart);
            }
            
            const statisticsBranch = document.getElementById('statisticsBranch');
            if (statisticsBranch) {
                statisticsBranch.addEventListener('change', updateStatisticsChart);
            }
            
            const statisticsCategory = document.getElementById('statisticsCategory');
            if (statisticsCategory) {
                statisticsCategory.addEventListener('change', updateStatisticsChart);
            }
            
            const comparisonPeriod = document.getElementById('comparisonPeriod');
            if (comparisonPeriod) {
                comparisonPeriod.addEventListener('change', updateComparisonCharts);
            }
            
            const comparisonCategory = document.getElementById('comparisonCategory');
            if (comparisonCategory) {
                comparisonCategory.addEventListener('change', updateComparisonCharts);
            }
            
            // ì§€ì  ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì‹œ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('branch-checkbox')) {
                    updateComparisonCharts();
                }
            });

            // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('fixed') && e.target.classList.contains('inset-0')) {
                    hideAddDesigner();
                    hideAddBranch();
                }
            });
        });
    </script>


    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDifBlFCiD3HBlyhaEZm2bcbKrhknt3w2AOTH%2BfK9YhJEdbSNnAMZh%2F4r%2BlqxT9ePM0mUFe20%2FY7PcGP6iWgmAuhpdTgk%2Fz5vkFIFZsKGmNGHVGr1D41A8ZMRrBWEkUDDyySH3ogrnm5SCdxJMY264Eez0nRWkKEHXmcKkb1mABG3h2q1LEty8deL1qSMnuJTjNdWcBYU4%2F8RWjGWZAU8K3gZPHMjsSdabpxum2PNJfkbIBHNbCklIN08jRgzwt4QBd7wzgGOaDlxahTY1moS1kwHmRRBDq0LrjemkIg9otRrM%2BSChkj64AwXShGjPLNy3okSdKG17DTXvyN5QuZUWB5yBvELM5dl1fbwxL2Jto%2F0JNFKSr25VKOLSoo%2F5FtMjU8b05C%2BHQnwX1btel2UZsJQQuO1bKKz97p2Svfa5mmNpEn%2BRgFh5WrI0Heoa6R%2BTbiLmAx0Rh14ePycF%2BRt5kFmXszBT3epJRiOH8FD0eTfC5WjRrA%2BhAc87pGZw3vCXw%3D%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDifBlFCiD3HBlyhaEZm2bcbKrhknt3w2AOTH+fK9YhJEdbSNnAMZh/4r+lqxT9ePM0mUFe20/Y7PcGP6iWgmAuhpdTgk/z5vkFIFZsKGmNGHVGr1D41A8ZMRrBWEkUDDyySH3ogrnm5SCdxJMY264Eez0nRWkKEHXmcKkb1mABG3h2q1LEty8deL1qSMnuJTjNdWcBYU4/8RWjGWZAU8K3gZPHMjsSdabpxum2PNJfkbIBHNbCklIN08jRgzwt4QBd7wzgGOaDlxahTY1moS1kwHmRRBDq0LrjemkIg9otRrM+SChkj64AwXShGjPLNy3okSdKG17DTXvyN5QuZUWB5yBvELM5dl1fbwxL2Jto/0JNFKSr25VKOLSoo/5FtMjU8b05C+HQnwX1btel2UZsJQQuO1bKKz97p2Svfa5mmNpEn+RgFh5WrI0Heoa6R+TbiLmAx0Rh14ePycF+Rt5kFmXszBT3epJRiOH8FD0eTfC5WjRrA+hAc87pGZw3vCXw==";
    </script>
    
    <script id="html_notice_dialog_script" src="./index_files/notice_dialog.js.ë‹¤ìš´ë¡œë“œ"></script>
    <div class="genspark-notice-dialog" style="display: none;">
      <div class="genspark-notice-content">
        <h2 class="genspark-notice-title">ì´ ì‚¬ì´íŠ¸ëŠ” ì‚¬ìš©ìê°€ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì°¸ê³ í•˜ì„¸ìš”:</h2>
        <ul class="genspark-notice-list">
          <li>ì½˜í…ì¸ ì— ë¶€ì •í™•í•œ ì •ë³´ê°€ í¬í•¨ë  ìˆ˜ ìˆìœ¼ë‹ˆ, ì‚¬ìš©í•˜ê¸° ì „ì— ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</li>
          <li>ë¶€ì ì ˆí•œ ì½˜í…ì¸ ë¥¼ ë°œê²¬í•˜ì‹œë©´ <a href="mailto:support@genspark.ai">support@genspark.ai</a>ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”.</li>
        </ul>
        <div class="genspark-notice-checkbox">
          <input type="checkbox" id="genspark-dont-show">
          <label for="genspark-dont-show">ì´ ë©”ì‹œì§€ë¥¼ ë‹¤ì‹œ í‘œì‹œí•˜ì§€ ì•ŠìŒ.</label>
        </div>
        <div class="genspark-notice-actions">
          <button class="genspark-notice-ok">í™•ì¸</button>
        </div>
      </div>
    </div></body></html>